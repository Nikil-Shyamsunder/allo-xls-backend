package systolic

file_number 0 "/scratch/users/zrs29/xls/xls/xls/dslx/stdlib/apfloat.x"
file_number 1 "/scratch/users/zrs29/xls/xls/xls/dslx/stdlib/float32.x"
file_number 2 "systolic.x"
file_number 3 "/scratch/users/zrs29/xls/xls/xls/dslx/stdlib/std.x"
file_number 4 "/scratch/users/zrs29/xls/xls/xls/dslx/stdlib/abs_diff.x"

chan systolic__arg0((bits[1], bits[8], bits[23])[2][2], id=0, kind=streaming, ops=receive_only, flow_control=ready_valid, strictness=proven_mutually_exclusive)
chan systolic__arg1((bits[1], bits[8], bits[23])[2][2], id=1, kind=streaming, ops=receive_only, flow_control=ready_valid, strictness=proven_mutually_exclusive)
chan systolic__out0((bits[1], bits[8], bits[23])[2][2], id=2, kind=streaming, ops=send_only, flow_control=ready_valid, strictness=proven_mutually_exclusive)
chan systolic__hor_chans__0_0((bits[1], bits[8], bits[23]), id=3, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan systolic__hor_chans__1_0((bits[1], bits[8], bits[23]), id=4, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan systolic__hor_chans__0_1((bits[1], bits[8], bits[23]), id=5, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan systolic__hor_chans__1_1((bits[1], bits[8], bits[23]), id=6, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan systolic__hor_chans__0_2((bits[1], bits[8], bits[23]), id=7, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan systolic__hor_chans__1_2((bits[1], bits[8], bits[23]), id=8, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan systolic__vert_chans__0_0((bits[1], bits[8], bits[23]), id=9, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan systolic__vert_chans__1_0((bits[1], bits[8], bits[23]), id=10, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan systolic__vert_chans__2_0((bits[1], bits[8], bits[23]), id=11, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan systolic__vert_chans__0_1((bits[1], bits[8], bits[23]), id=12, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan systolic__vert_chans__1_1((bits[1], bits[8], bits[23]), id=13, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan systolic__vert_chans__2_1((bits[1], bits[8], bits[23]), id=14, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan systolic__result_chans__0_0((bits[1], bits[8], bits[23]), id=15, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan systolic__result_chans__1_0((bits[1], bits[8], bits[23]), id=16, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan systolic__result_chans__0_1((bits[1], bits[8], bits[23]), id=17, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan systolic__result_chans__1_1((bits[1], bits[8], bits[23]), id=18, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)

fn __apfloat__zero__8_23(sign: bits[1] id=1) -> (bits[1], bits[8], bits[23]) {
  literal.4: bits[8] = literal(value=0, id=4, pos=[(0,131,47)])
  literal.5: bits[23] = literal(value=0, id=5, pos=[(0,131,73)])
  EXP_SZ: bits[32] = literal(value=8, id=2, pos=[(0,130,12)])
  FRACTION_SZ: bits[32] = literal(value=23, id=3, pos=[(0,130,25)])
  ret tuple.6: (bits[1], bits[8], bits[23]) = tuple(sign, literal.4, literal.5, id=6, pos=[(0,131,33)])
}

fn __float32__zero(sign: bits[1] id=7) -> (bits[1], bits[8], bits[23]) {
  F32_EXP_SZ: bits[32] = literal(value=8, id=8, pos=[(1,18,23)])
  F32_FRACTION_SZ: bits[32] = literal(value=23, id=9, pos=[(1,19,28)])
  ret invoke.10: (bits[1], bits[8], bits[23]) = invoke(sign, to_apply=__apfloat__zero__8_23, id=10, pos=[(1,39,44)])
}

fn __systolic__PE.init() -> ((bits[1], bits[8], bits[23]), bits[32]) {
  literal.11: bits[1] = literal(value=0, id=11, pos=[(2,19,24)])
  invoke.12: (bits[1], bits[8], bits[23]) = invoke(literal.11, to_apply=__float32__zero, id=12, pos=[(2,19,23)])
  literal.13: bits[32] = literal(value=0, id=13, pos=[(2,19,31)])
  ret tuple.14: ((bits[1], bits[8], bits[23]), bits[32]) = tuple(invoke.12, literal.13, id=14, pos=[(2,19,9)])
}

proc __systolic__SystolicArray_0_next(__state: ((bits[1], bits[8], bits[23])[2][2], (bits[1], bits[8], bits[23])[2][2], bits[32], bits[1]), init={([[(0, 0, 0), (0, 0, 0)], [(0, 0, 0), (0, 0, 0)]], [[(0, 0, 0), (0, 0, 0)], [(0, 0, 0), (0, 0, 0)]], 0, 0)}) {
  __state: ((bits[1], bits[8], bits[23])[2][2], (bits[1], bits[8], bits[23])[2][2], bits[32], bits[1]) = state_read(state_element=__state, id=1001)
  index0: bits[32] = tuple_index(__state, index=2, id=1005, pos=[(2,66,21)])
  literal.1007: bits[32] = literal(value=0, id=1007, pos=[(2,67,46)])
  literal.1002: bits[1] = literal(value=1, id=1002)
  eq.1008: bits[1] = eq(index0, literal.1007, id=1008, pos=[(2,67,36)])
  literal.1009: token = literal(value=token, id=1009)
  and.1010: bits[1] = and(literal.1002, eq.1008, id=1010)
  literal.1015: token = literal(value=token, id=1015)
  and.1016: bits[1] = and(literal.1002, eq.1008, id=1016)
  receive.1011: (token, (bits[1], bits[8], bits[23])[2][2]) = receive(literal.1009, predicate=and.1010, channel=systolic__arg0, id=1011)
  receive.1017: (token, (bits[1], bits[8], bits[23])[2][2]) = receive(literal.1015, predicate=and.1016, channel=systolic__arg1, id=1017)
  a_tok: token = tuple_index(receive.1011, index=0, id=1013, pos=[(2,68,11)])
  b_tok: token = tuple_index(receive.1017, index=0, id=1019, pos=[(2,69,11)])
  literal.1023: token = literal(value=token, id=1023)
  acc0: (bits[1], bits[8], bits[23])[2][2] = tuple_index(__state, index=0, id=1003, pos=[(2,66,9)])
  acc1: (bits[1], bits[8], bits[23])[2][2] = tuple_index(__state, index=1, id=1004, pos=[(2,66,15)])
  tok: token = after_all(a_tok, b_tok, id=1021)
  a_recv: (bits[1], bits[8], bits[23])[2][2] = tuple_index(receive.1011, index=1, id=1014, pos=[(2,68,18)])
  b_recv: (bits[1], bits[8], bits[23])[2][2] = tuple_index(receive.1017, index=1, id=1020, pos=[(2,69,18)])
  tuple.1024: (token, (bits[1], bits[8], bits[23])[2][2], (bits[1], bits[8], bits[23])[2][2]) = tuple(literal.1023, acc0, acc1, id=1024, pos=[(2,73,6)])
  tuple.1022: (token, (bits[1], bits[8], bits[23])[2][2], (bits[1], bits[8], bits[23])[2][2]) = tuple(tok, a_recv, b_recv, id=1022, pos=[(2,71,6)])
  sel.1025: (token, (bits[1], bits[8], bits[23])[2][2], (bits[1], bits[8], bits[23])[2][2]) = sel(eq.1008, cases=[tuple.1024, tuple.1022], id=1025, pos=[(2,67,33)])
  a_mat2: (bits[1], bits[8], bits[23])[2][2] = tuple_index(sel.1025, index=1, id=1027, pos=[(2,67,15)])
  literal.1031: bits[32] = literal(value=0, id=1031, pos=[(2,76,46)])
  literal.1029: bits[32] = literal(value=2, id=1029, pos=[(2,75,29)])
  b_mat2: (bits[1], bits[8], bits[23])[2][2] = tuple_index(sel.1025, index=2, id=1028, pos=[(2,67,23)])
  literal.1045: bits[32] = literal(value=2, id=1045, pos=[(2,86,29)])
  array_index.1032: (bits[1], bits[8], bits[23])[2] = array_index(a_mat2, indices=[literal.1031], id=1032, pos=[(2,76,45)])
  ult.1030: bits[1] = ult(index0, literal.1029, id=1030, pos=[(2,75,20)])
  array_index.1047: (bits[1], bits[8], bits[23])[2] = array_index(b_mat2, indices=[index0], id=1047, pos=[(2,87,46)])
  literal.1048: bits[32] = literal(value=0, id=1048, pos=[(2,87,55)])
  ult.1046: bits[1] = ult(index0, literal.1045, id=1046, pos=[(2,86,20)])
  tok0: token = tuple_index(sel.1025, index=0, id=1026, pos=[(2,67,9)])
  array_index.1033: (bits[1], bits[8], bits[23]) = array_index(array_index.1032, indices=[index0], id=1033, pos=[(2,76,52)])
  and.1034: bits[1] = and(literal.1002, ult.1030, id=1034)
  literal.1039: bits[32] = literal(value=1, id=1039, pos=[(2,81,48)])
  literal.1037: bits[32] = literal(value=2, id=1037, pos=[(2,80,29)])
  array_index.1049: (bits[1], bits[8], bits[23]) = array_index(array_index.1047, indices=[literal.1048], id=1049, pos=[(2,87,54)])
  and.1050: bits[1] = and(literal.1002, ult.1046, id=1050)
  literal.1053: bits[32] = literal(value=2, id=1053, pos=[(2,91,29)])
  send.1035: token = send(tok0, array_index.1033, predicate=and.1034, channel=systolic__hor_chans__0_0, id=1035)
  array_index.1040: (bits[1], bits[8], bits[23])[2] = array_index(a_mat2, indices=[literal.1039], id=1040, pos=[(2,81,47)])
  ult.1038: bits[1] = ult(index0, literal.1037, id=1038, pos=[(2,80,20)])
  send.1051: token = send(tok0, array_index.1049, predicate=and.1050, channel=systolic__vert_chans__0_0, id=1051)
  array_index.1055: (bits[1], bits[8], bits[23])[2] = array_index(b_mat2, indices=[index0], id=1055, pos=[(2,92,48)])
  literal.1056: bits[32] = literal(value=1, id=1056, pos=[(2,92,57)])
  ult.1054: bits[1] = ult(index0, literal.1053, id=1054, pos=[(2,91,20)])
  tok_a0: token = sel(ult.1030, cases=[tok0, send.1035], id=1036, pos=[(2,75,17)])
  array_index.1041: (bits[1], bits[8], bits[23]) = array_index(array_index.1040, indices=[index0], id=1041, pos=[(2,81,54)])
  and.1042: bits[1] = and(literal.1002, ult.1038, id=1042)
  tok_b0: token = sel(ult.1046, cases=[tok0, send.1051], id=1052, pos=[(2,86,17)])
  array_index.1057: (bits[1], bits[8], bits[23]) = array_index(array_index.1055, indices=[literal.1056], id=1057, pos=[(2,92,56)])
  and.1058: bits[1] = and(literal.1002, ult.1054, id=1058)
  send.1043: token = send(tok_a0, array_index.1041, predicate=and.1042, channel=systolic__hor_chans__1_0, id=1043)
  send.1059: token = send(tok_b0, array_index.1057, predicate=and.1058, channel=systolic__vert_chans__0_1, id=1059)
  literal.1098: bits[32] = literal(value=2, id=1098, pos=[(2,102,17)])
  tok1: token = sel(ult.1038, cases=[tok_a0, send.1043], id=1044, pos=[(2,80,17)])
  tok2: token = sel(ult.1054, cases=[tok_b0, send.1059], id=1060, pos=[(2,91,17)])
  eq.1099: bits[1] = eq(index0, literal.1098, id=1099, pos=[(2,102,7)])
  tok3: token = after_all(tok1, tok2, id=1097)
  and.1100: bits[1] = and(literal.1002, eq.1099, id=1100)
  receive.1101: (token, (bits[1], bits[8], bits[23])) = receive(tok3, predicate=and.1100, channel=systolic__result_chans__0_0, id=1101)
  t00: token = tuple_index(receive.1101, index=0, id=1103, pos=[(2,103,11)])
  and.1105: bits[1] = and(literal.1002, eq.1099, id=1105)
  receive.1106: (token, (bits[1], bits[8], bits[23])) = receive(t00, predicate=and.1105, channel=systolic__result_chans__0_1, id=1106)
  t01: token = tuple_index(receive.1106, index=0, id=1108, pos=[(2,104,11)])
  and.1110: bits[1] = and(literal.1002, eq.1099, id=1110)
  receive.1111: (token, (bits[1], bits[8], bits[23])) = receive(t01, predicate=and.1110, channel=systolic__result_chans__1_0, id=1111)
  literal.1125: bits[1] = literal(value=0, id=1125, pos=[(2,109,23)])
  literal.1127: bits[1] = literal(value=0, id=1127, pos=[(2,109,44)])
  literal.1130: bits[1] = literal(value=0, id=1130, pos=[(2,109,67)])
  literal.1132: bits[1] = literal(value=0, id=1132, pos=[(2,109,88)])
  literal.1136: bits[1] = literal(value=0, id=1136, pos=[(2,109,113)])
  literal.1138: bits[1] = literal(value=0, id=1138, pos=[(2,109,134)])
  literal.1141: bits[1] = literal(value=0, id=1141, pos=[(2,109,157)])
  literal.1143: bits[1] = literal(value=0, id=1143, pos=[(2,109,178)])
  t10: token = tuple_index(receive.1111, index=0, id=1113, pos=[(2,105,11)])
  and.1115: bits[1] = and(literal.1002, eq.1099, id=1115)
  invoke.1126: (bits[1], bits[8], bits[23]) = invoke(literal.1125, to_apply=__float32__zero, id=1126, pos=[(2,109,22)])
  invoke.1128: (bits[1], bits[8], bits[23]) = invoke(literal.1127, to_apply=__float32__zero, id=1128, pos=[(2,109,43)])
  invoke.1131: (bits[1], bits[8], bits[23]) = invoke(literal.1130, to_apply=__float32__zero, id=1131, pos=[(2,109,66)])
  invoke.1133: (bits[1], bits[8], bits[23]) = invoke(literal.1132, to_apply=__float32__zero, id=1133, pos=[(2,109,87)])
  invoke.1137: (bits[1], bits[8], bits[23]) = invoke(literal.1136, to_apply=__float32__zero, id=1137, pos=[(2,109,112)])
  invoke.1139: (bits[1], bits[8], bits[23]) = invoke(literal.1138, to_apply=__float32__zero, id=1139, pos=[(2,109,133)])
  invoke.1142: (bits[1], bits[8], bits[23]) = invoke(literal.1141, to_apply=__float32__zero, id=1142, pos=[(2,109,156)])
  invoke.1144: (bits[1], bits[8], bits[23]) = invoke(literal.1143, to_apply=__float32__zero, id=1144, pos=[(2,109,177)])
  literal.1061: token = literal(value=token, id=1061)
  literal.1070: token = literal(value=token, id=1070)
  literal.1079: token = literal(value=token, id=1079)
  literal.1088: token = literal(value=token, id=1088)
  receive.1116: (token, (bits[1], bits[8], bits[23])) = receive(t10, predicate=and.1115, channel=systolic__result_chans__1_1, id=1116)
  literal.1150: bits[32] = literal(value=1, id=1150, pos=[(2,111,32)])
  array.1129: (bits[1], bits[8], bits[23])[2] = array(invoke.1126, invoke.1128, id=1129, pos=[(2,109,8)])
  array.1134: (bits[1], bits[8], bits[23])[2] = array(invoke.1131, invoke.1133, id=1134, pos=[(2,109,52)])
  array.1140: (bits[1], bits[8], bits[23])[2] = array(invoke.1137, invoke.1139, id=1140, pos=[(2,109,98)])
  array.1145: (bits[1], bits[8], bits[23])[2] = array(invoke.1142, invoke.1144, id=1145, pos=[(2,109,142)])
  receive.1064: (token, (bits[1], bits[8], bits[23]), bits[1]) = receive(literal.1061, predicate=literal.1002, channel=systolic__hor_chans__0_2, blocking=false, id=1064)
  literal.1062: bits[1] = literal(value=0, id=1062, pos=[(2,97,77)])
  receive.1073: (token, (bits[1], bits[8], bits[23]), bits[1]) = receive(literal.1070, predicate=literal.1002, channel=systolic__hor_chans__1_2, blocking=false, id=1073)
  literal.1071: bits[1] = literal(value=0, id=1071, pos=[(2,98,77)])
  receive.1082: (token, (bits[1], bits[8], bits[23]), bits[1]) = receive(literal.1079, predicate=literal.1002, channel=systolic__vert_chans__2_0, blocking=false, id=1082)
  literal.1080: bits[1] = literal(value=0, id=1080, pos=[(2,99,78)])
  receive.1091: (token, (bits[1], bits[8], bits[23]), bits[1]) = receive(literal.1088, predicate=literal.1002, channel=systolic__vert_chans__2_1, blocking=false, id=1091)
  literal.1089: bits[1] = literal(value=0, id=1089, pos=[(2,100,78)])
  c00: (bits[1], bits[8], bits[23]) = tuple_index(receive.1101, index=1, id=1104, pos=[(2,103,16)])
  c01: (bits[1], bits[8], bits[23]) = tuple_index(receive.1106, index=1, id=1109, pos=[(2,104,16)])
  c10: (bits[1], bits[8], bits[23]) = tuple_index(receive.1111, index=1, id=1114, pos=[(2,105,16)])
  c11: (bits[1], bits[8], bits[23]) = tuple_index(receive.1116, index=1, id=1119, pos=[(2,106,16)])
  add.1151: bits[32] = add(index0, literal.1150, id=1151, pos=[(2,111,23)])
  literal.1152: bits[1] = literal(value=1, id=1152, pos=[(2,111,39)])
  array.1135: (bits[1], bits[8], bits[23])[2][2] = array(array.1129, array.1134, id=1135, pos=[(2,109,7)])
  array.1146: (bits[1], bits[8], bits[23])[2][2] = array(array.1140, array.1145, id=1146, pos=[(2,109,97)])
  literal.1147: bits[32] = literal(value=0, id=1147, pos=[(2,109,187)])
  literal.1148: bits[1] = literal(value=0, id=1148, pos=[(2,109,194)])
  tuple_index.1067: bits[1] = tuple_index(receive.1064, index=2, id=1067)
  invoke.1063: (bits[1], bits[8], bits[23]) = invoke(literal.1062, to_apply=__float32__zero, id=1063, pos=[(2,97,76)])
  tuple_index.1066: (bits[1], bits[8], bits[23]) = tuple_index(receive.1064, index=1, id=1066)
  tuple_index.1076: bits[1] = tuple_index(receive.1073, index=2, id=1076)
  invoke.1072: (bits[1], bits[8], bits[23]) = invoke(literal.1071, to_apply=__float32__zero, id=1072, pos=[(2,98,76)])
  tuple_index.1075: (bits[1], bits[8], bits[23]) = tuple_index(receive.1073, index=1, id=1075)
  tuple_index.1085: bits[1] = tuple_index(receive.1082, index=2, id=1085)
  invoke.1081: (bits[1], bits[8], bits[23]) = invoke(literal.1080, to_apply=__float32__zero, id=1081, pos=[(2,99,77)])
  tuple_index.1084: (bits[1], bits[8], bits[23]) = tuple_index(receive.1082, index=1, id=1084)
  tuple_index.1094: bits[1] = tuple_index(receive.1091, index=2, id=1094)
  invoke.1090: (bits[1], bits[8], bits[23]) = invoke(literal.1089, to_apply=__float32__zero, id=1090, pos=[(2,100,77)])
  tuple_index.1093: (bits[1], bits[8], bits[23]) = tuple_index(receive.1091, index=1, id=1093)
  array.1120: (bits[1], bits[8], bits[23])[2] = array(c00, c01, id=1120, pos=[(2,107,15)])
  array.1121: (bits[1], bits[8], bits[23])[2] = array(c10, c11, id=1121, pos=[(2,107,27)])
  tuple.1153: ((bits[1], bits[8], bits[23])[2][2], (bits[1], bits[8], bits[23])[2][2], bits[32], bits[1]) = tuple(a_mat2, b_mat2, add.1151, literal.1152, id=1153, pos=[(2,111,6)])
  tuple.1149: ((bits[1], bits[8], bits[23])[2][2], (bits[1], bits[8], bits[23])[2][2], bits[32], bits[1]) = tuple(array.1135, array.1146, literal.1147, literal.1148, id=1149, pos=[(2,109,6)])
  tuple_index.1065: token = tuple_index(receive.1064, index=0, id=1065)
  sel.1068: (bits[1], bits[8], bits[23]) = sel(tuple_index.1067, cases=[invoke.1063, tuple_index.1066], id=1068)
  tuple_index.1074: token = tuple_index(receive.1073, index=0, id=1074)
  sel.1077: (bits[1], bits[8], bits[23]) = sel(tuple_index.1076, cases=[invoke.1072, tuple_index.1075], id=1077)
  tuple_index.1083: token = tuple_index(receive.1082, index=0, id=1083)
  sel.1086: (bits[1], bits[8], bits[23]) = sel(tuple_index.1085, cases=[invoke.1081, tuple_index.1084], id=1086)
  tuple_index.1092: token = tuple_index(receive.1091, index=0, id=1092)
  sel.1095: (bits[1], bits[8], bits[23]) = sel(tuple_index.1094, cases=[invoke.1090, tuple_index.1093], id=1095)
  t11: token = tuple_index(receive.1116, index=0, id=1118, pos=[(2,106,11)])
  c: (bits[1], bits[8], bits[23])[2][2] = array(array.1120, array.1121, id=1122, pos=[(2,107,14)])
  and.1123: bits[1] = and(literal.1002, eq.1099, id=1123)
  sel.1154: ((bits[1], bits[8], bits[23])[2][2], (bits[1], bits[8], bits[23])[2][2], bits[32], bits[1]) = sel(eq.1099, cases=[tuple.1153, tuple.1149], id=1154, pos=[(2,102,4)])
  __token: token = literal(value=token, id=1000)
  busy: bits[1] = tuple_index(__state, index=3, id=1006, pos=[(2,66,29)])
  tuple_index.1012: token = tuple_index(receive.1011, index=0, id=1012)
  tuple_index.1018: token = tuple_index(receive.1017, index=0, id=1018)
  tuple.1069: (token, (bits[1], bits[8], bits[23]), bits[1]) = tuple(tuple_index.1065, sel.1068, tuple_index.1067, id=1069)
  tuple.1078: (token, (bits[1], bits[8], bits[23]), bits[1]) = tuple(tuple_index.1074, sel.1077, tuple_index.1076, id=1078)
  tuple.1087: (token, (bits[1], bits[8], bits[23]), bits[1]) = tuple(tuple_index.1083, sel.1086, tuple_index.1085, id=1087)
  tuple.1096: (token, (bits[1], bits[8], bits[23]), bits[1]) = tuple(tuple_index.1092, sel.1095, tuple_index.1094, id=1096)
  tuple_index.1102: token = tuple_index(receive.1101, index=0, id=1102)
  tuple_index.1107: token = tuple_index(receive.1106, index=0, id=1107)
  tuple_index.1112: token = tuple_index(receive.1111, index=0, id=1112)
  tuple_index.1117: token = tuple_index(receive.1116, index=0, id=1117)
  tok_send: token = send(t11, c, predicate=and.1123, channel=systolic__out0, id=1124)
  next_value.1155: () = next_value(param=__state, value=sel.1154, id=1155)
}

fn __apfloat__is_zero_or_subnormal__8_23(x: (bits[1], bits[8], bits[23]) id=15) -> bits[1] {
  x_bexp: bits[8] = tuple_index(x, index=1, id=18, pos=[(0,804,5)])
  literal.19: bits[8] = literal(value=0, id=19, pos=[(0,804,14)])
  EXP_SZ: bits[32] = literal(value=8, id=16, pos=[(0,802,28)])
  FRACTION_SZ: bits[32] = literal(value=23, id=17, pos=[(0,802,41)])
  ret eq.20: bits[1] = eq(x_bexp, literal.19, id=20, pos=[(0,804,5)])
}

fn __std__mask_bits__8() -> bits[8] {
  literal.22: bits[8] = literal(value=0, id=22, pos=[(3,835,41)])
  X: bits[32] = literal(value=8, id=21, pos=[(3,835,17)])
  ret not.23: bits[8] = not(literal.22, id=23, pos=[(3,835,40)])
}

fn __apfloat__is_inf__8_23(x: (bits[1], bits[8], bits[23]) id=24) -> bits[1] {
  x_bexp: bits[8] = tuple_index(x, index=1, id=27, pos=[(0,96,6)])
  invoke.28: bits[8] = invoke(to_apply=__std__mask_bits__8, id=28, pos=[(0,96,29)])
  x_fraction: bits[23] = tuple_index(x, index=2, id=30, pos=[(0,96,44)])
  literal.31: bits[23] = literal(value=0, id=31, pos=[(0,96,57)])
  eq.29: bits[1] = eq(x_bexp, invoke.28, id=29, pos=[(0,96,6)])
  eq.32: bits[1] = eq(x_fraction, literal.31, id=32, pos=[(0,96,44)])
  EXP_SZ: bits[32] = literal(value=8, id=25, pos=[(0,95,14)])
  FRACTION_SZ: bits[32] = literal(value=23, id=26, pos=[(0,95,27)])
  ret and.33: bits[1] = and(eq.29, eq.32, id=33, pos=[(0,96,6)])
}

fn __apfloat__is_nan__8_23(x: (bits[1], bits[8], bits[23]) id=34) -> bits[1] {
  x_bexp: bits[8] = tuple_index(x, index=1, id=37, pos=[(0,71,6)])
  invoke.38: bits[8] = invoke(to_apply=__std__mask_bits__8, id=38, pos=[(0,71,29)])
  x_fraction: bits[23] = tuple_index(x, index=2, id=40, pos=[(0,71,44)])
  literal.41: bits[23] = literal(value=0, id=41, pos=[(0,71,57)])
  eq.39: bits[1] = eq(x_bexp, invoke.38, id=39, pos=[(0,71,6)])
  ne.42: bits[1] = ne(x_fraction, literal.41, id=42, pos=[(0,71,44)])
  EXP_SZ: bits[32] = literal(value=8, id=35, pos=[(0,70,14)])
  FRACTION_SZ: bits[32] = literal(value=23, id=36, pos=[(0,70,27)])
  ret and.43: bits[1] = and(eq.39, ne.42, id=43, pos=[(0,71,6)])
}

fn __apfloat__mul__8_23(x: (bits[1], bits[8], bits[23]) id=44, y: (bits[1], bits[8], bits[23]) id=45) -> (bits[1], bits[8], bits[23]) {
  FRACTION_SZ: bits[32] = literal(value=23, id=47, pos=[(0,3268,24)])
  x_fraction: bits[23] = tuple_index(x, index=2, id=64, pos=[(0,3294,23)])
  literal.66: bits[48] = literal(value=1, id=66, pos=[(0,3295,22)])
  zero_ext.67: bits[48] = zero_ext(FRACTION_SZ, new_bit_count=48, id=67)
  y_fraction: bits[23] = tuple_index(y, index=2, id=70, pos=[(0,3296,23)])
  literal.72: bits[48] = literal(value=1, id=72, pos=[(0,3297,22)])
  zero_ext.73: bits[48] = zero_ext(FRACTION_SZ, new_bit_count=48, id=73)
  zero_ext.65: bits[48] = zero_ext(x_fraction, new_bit_count=48, id=65)
  shll.68: bits[48] = shll(literal.66, zero_ext.67, id=68, pos=[(0,3295,22)])
  zero_ext.71: bits[48] = zero_ext(y_fraction, new_bit_count=48, id=71)
  shll.74: bits[48] = shll(literal.72, zero_ext.73, id=74, pos=[(0,3297,22)])
  invoke.61: bits[1] = invoke(x, to_apply=__apfloat__is_zero_or_subnormal__8_23, id=61, pos=[(0,3291,40)])
  invoke.62: bits[1] = invoke(y, to_apply=__apfloat__is_zero_or_subnormal__8_23, id=62, pos=[(0,3291,67)])
  x_fraction__1: bits[48] = or(zero_ext.65, shll.68, id=69, pos=[(0,3294,23)])
  y_fraction__1: bits[48] = or(zero_ext.71, shll.74, id=75, pos=[(0,3296,23)])
  x_bexp: bits[8] = tuple_index(x, index=1, id=83, pos=[(0,3309,16)])
  y_bexp: bits[8] = tuple_index(y, index=1, id=85, pos=[(0,3309,45)])
  invoke.79: bits[8] = invoke(to_apply=__std__mask_bits__8, id=79, pos=[(0,3308,29)])
  has_0_arg: bits[1] = or(invoke.61, invoke.62, id=63, pos=[(0,3291,40)])
  umul.77: bits[48] = umul(x_fraction__1, y_fraction__1, id=77, pos=[(0,3300,63)])
  literal.76: bits[48] = literal(value=0, id=76, pos=[(0,3300,34)])
  zero_ext.84: bits[10] = zero_ext(x_bexp, new_bit_count=10, id=84)
  zero_ext.86: bits[10] = zero_ext(y_bexp, new_bit_count=10, id=86)
  zero_ext.80: bits[10] = zero_ext(invoke.79, new_bit_count=10, id=80)
  literal.81: bits[10] = literal(value=1, id=81, pos=[(0,3308,61)])
  fraction: bits[48] = sel(has_0_arg, cases=[umul.77, literal.76], id=78, pos=[(0,3300,19)])
  add.87: bits[10] = add(zero_ext.84, zero_ext.86, id=87, pos=[(0,3309,16)])
  bias: bits[10] = shra(zero_ext.80, literal.81, id=82, pos=[(0,3308,29)])
  bit_slice.91: bits[1] = bit_slice(fraction, start=47, width=1, id=91, pos=[(0,3324,33)])
  exp: bits[10] = sub(add.87, bias, id=88, pos=[(0,3309,16)])
  literal.89: bits[10] = literal(value=0, id=89, pos=[(0,3318,29)])
  fraction_shift: bits[48] = zero_ext(bit_slice.91, new_bit_count=48, id=92)
  bit_slice.93: bits[1] = bit_slice(fraction, start=0, width=1, id=93, pos=[(0,3329,25)])
  exp__1: bits[10] = sel(has_0_arg, cases=[exp, literal.89], id=90, pos=[(0,3318,14)])
  bit_slice.97: bits[10] = bit_slice(fraction_shift, start=0, width=10, id=97)
  fraction__1: bits[48] = shrl(fraction, fraction_shift, id=95, pos=[(0,3330,19)])
  sticky: bits[48] = zero_ext(bit_slice.93, new_bit_count=48, id=94)
  exp__2: bits[10] = add(exp__1, bit_slice.97, id=98, pos=[(0,3334,14)])
  literal.101: bits[10] = literal(value=0, id=101, pos=[(0,3346,29)])
  fraction__2: bits[48] = or(fraction__1, sticky, id=96, pos=[(0,3331,19)])
  literal.103: bits[48] = literal(value=1, id=103, pos=[(0,3346,60)])
  sle.102: bits[1] = sle(exp__2, literal.101, id=102, pos=[(0,3346,22)])
  shrl.104: bits[48] = shrl(fraction__2, literal.103, id=104, pos=[(0,3346,48)])
  bit_slice.99: bits[1] = bit_slice(fraction__2, start=0, width=1, id=99, pos=[(0,3345,25)])
  fraction__3: bits[48] = sel(sle.102, cases=[fraction__2, shrl.104], id=105, pos=[(0,3346,19)])
  sticky__1: bits[48] = zero_ext(bit_slice.99, new_bit_count=48, id=100)
  fraction__4: bits[48] = or(fraction__3, sticky__1, id=106, pos=[(0,3347,19)])
  bit_slice.108: bits[22] = bit_slice(fraction__4, start=0, width=22, id=108, pos=[(0,3358,31)])
  literal.109: bits[22] = literal(value=0, id=109, pos=[(0,3358,67)])
  zero_ext.120: bits[48] = zero_ext(FRACTION_SZ, new_bit_count=48, id=120)
  bit_slice.113: bits[22] = bit_slice(fraction__4, start=0, width=22, id=113, pos=[(0,3360,41)])
  literal.114: bits[22] = literal(value=0, id=114, pos=[(0,3361,32)])
  bit_slice.107: bits[1] = bit_slice(fraction__4, start=22, width=1, id=107, pos=[(0,3357,30)])
  eq.110: bits[1] = eq(bit_slice.108, literal.109, id=110, pos=[(0,3358,31)])
  shrl.121: bits[48] = shrl(fraction__4, zero_ext.120, id=121, pos=[(0,3368,20)])
  bit_slice.112: bits[1] = bit_slice(fraction__4, start=22, width=1, id=112, pos=[(0,3359,40)])
  ne.115: bits[1] = ne(bit_slice.113, literal.114, id=115, pos=[(0,3360,41)])
  is_half_way: bits[1] = and(bit_slice.107, eq.110, id=111, pos=[(0,3357,30)])
  bit_slice.117: bits[1] = bit_slice(fraction__4, start=23, width=1, id=117, pos=[(0,3363,45)])
  fraction__5: bits[23] = bit_slice(shrl.121, start=0, width=23, id=122)
  greater_than_half_way: bits[1] = and(bit_slice.112, ne.115, id=116, pos=[(0,3359,40)])
  and.118: bits[1] = and(is_half_way, bit_slice.117, id=118, pos=[(0,3363,23)])
  fraction__6: bits[24] = zero_ext(fraction__5, new_bit_count=24, id=123)
  literal.124: bits[24] = literal(value=1, id=124, pos=[(0,3370,47)])
  do_round_up: bits[1] = or(greater_than_half_way, and.118, id=119, pos=[(0,3362,22)])
  add.125: bits[24] = add(fraction__6, literal.124, id=125, pos=[(0,3370,36)])
  fraction__7: bits[24] = sel(do_round_up, cases=[fraction__6, add.125], id=126, pos=[(0,3370,19)])
  literal.128: bits[10] = literal(value=1, id=128, pos=[(0,3374,39)])
  bit_slice.127: bits[1] = bit_slice(fraction__7, start=23, width=1, id=127, pos=[(0,3374,25)])
  add.129: bits[10] = add(exp__2, literal.128, id=129, pos=[(0,3374,33)])
  exp__3: bits[10] = sel(bit_slice.127, cases=[exp__2, add.129], id=130, pos=[(0,3374,14)])
  literal.131: bits[10] = literal(value=0, id=131, pos=[(0,3375,30)])
  is_subnormal: bits[1] = sle(exp__3, literal.131, id=132, pos=[(0,3375,23)])
  result_exp: bits[9] = bit_slice(exp__3, start=0, width=9, id=136)
  literal.138: bits[9] = literal(value=0, id=138, pos=[(0,3384,39)])
  high_exp: bits[8] = invoke(to_apply=__std__mask_bits__8, id=142, pos=[(0,3388,33)])
  invoke.160: bits[1] = invoke(x, to_apply=__apfloat__is_inf__8_23, id=160, pos=[(0,3402,28)])
  invoke.161: bits[1] = invoke(y, to_apply=__apfloat__is_inf__8_23, id=161, pos=[(0,3402,62)])
  result_exp__1: bits[9] = sel(is_subnormal, cases=[result_exp, literal.138], id=139, pos=[(0,3384,21)])
  zero_ext.147: bits[9] = zero_ext(high_exp, new_bit_count=9, id=147)
  zero_ext.143: bits[9] = zero_ext(high_exp, new_bit_count=9, id=143)
  result_fraction: bits[23] = bit_slice(fraction__7, start=0, width=23, id=137)
  literal.140: bits[23] = literal(value=0, id=140, pos=[(0,3385,44)])
  invoke.157: bits[1] = invoke(x, to_apply=__apfloat__is_nan__8_23, id=157, pos=[(0,3401,28)])
  invoke.158: bits[1] = invoke(y, to_apply=__apfloat__is_nan__8_23, id=158, pos=[(0,3401,62)])
  has_inf_arg: bits[1] = or(invoke.160, invoke.161, id=162, pos=[(0,3402,28)])
  invoke.151: bits[1] = invoke(x, to_apply=__apfloat__is_inf__8_23, id=151, pos=[(0,3395,31)])
  invoke.152: bits[1] = invoke(y, to_apply=__apfloat__is_inf__8_23, id=152, pos=[(0,3395,65)])
  ult.148: bits[1] = ult(result_exp__1, zero_ext.147, id=148, pos=[(0,3392,11)])
  bit_slice.149: bits[8] = bit_slice(result_exp__1, start=0, width=8, id=149)
  ult.144: bits[1] = ult(result_exp__1, zero_ext.143, id=144, pos=[(0,3390,11)])
  literal.145: bits[23] = literal(value=0, id=145, pos=[(0,3390,78)])
  result_fraction__1: bits[23] = sel(is_subnormal, cases=[result_fraction, literal.140], id=141, pos=[(0,3385,26)])
  bit_slice.167: bits[23] = bit_slice(FRACTION_SZ, start=0, width=23, id=167)
  literal.168: bits[23] = literal(value=1, id=168, pos=[(0,3405,78)])
  has_nan_arg: bits[1] = or(invoke.157, invoke.158, id=159, pos=[(0,3401,28)])
  and.163: bits[1] = and(has_0_arg, has_inf_arg, id=163, pos=[(0,3403,40)])
  x_sign: bits[1] = tuple_index(x, index=0, id=133, pos=[(0,3378,23)])
  y_sign: bits[1] = tuple_index(y, index=0, id=134, pos=[(0,3378,33)])
  is_operand_inf: bits[1] = or(invoke.151, invoke.152, id=153, pos=[(0,3395,31)])
  result_exp__2: bits[8] = sel(ult.148, cases=[high_exp, bit_slice.149], id=150, pos=[(0,3392,8)])
  result_fraction__2: bits[23] = sel(ult.144, cases=[literal.145, result_fraction__1], id=146, pos=[(0,3390,8)])
  literal.155: bits[23] = literal(value=0, id=155, pos=[(0,3397,46)])
  literal.166: bits[23] = literal(value=1, id=166, pos=[(0,3405,23)])
  sub.169: bits[23] = sub(bit_slice.167, literal.168, id=169, pos=[(0,3405,45)])
  EXP_SZ: bits[32] = literal(value=8, id=46, pos=[(0,3268,11)])
  literal.48: bits[32] = literal(value=1, id=48, pos=[(0,3272,35)])
  is_result_nan: bits[1] = or(has_nan_arg, and.163, id=164, pos=[(0,3403,24)])
  result_sign: bits[1] = ne(x_sign, y_sign, id=135, pos=[(0,3378,23)])
  literal.172: bits[1] = literal(value=0, id=172, pos=[(0,3407,41)])
  result_exp__3: bits[8] = sel(is_operand_inf, cases=[result_exp__2, high_exp], id=154, pos=[(0,3396,21)])
  result_fraction__3: bits[23] = sel(is_operand_inf, cases=[result_fraction__2, literal.155], id=156, pos=[(0,3397,26)])
  nan_fraction: bits[23] = shll(literal.166, sub.169, id=170, pos=[(0,3405,23)])
  WIDE_EXP: bits[32] = add(EXP_SZ, literal.48, id=49, pos=[(0,3272,26)])
  literal.50: bits[32] = literal(value=1, id=50, pos=[(0,3274,39)])
  literal.52: bits[32] = literal(value=1, id=52, pos=[(0,3278,49)])
  add.54: bits[32] = add(FRACTION_SZ, FRACTION_SZ, id=54, pos=[(0,3282,31)])
  literal.55: bits[32] = literal(value=2, id=55, pos=[(0,3282,59)])
  literal.57: bits[32] = literal(value=1, id=57, pos=[(0,3284,53)])
  literal.59: bits[32] = literal(value=1, id=59, pos=[(0,3288,47)])
  result_sign__1: bits[1] = sel(is_result_nan, cases=[result_sign, literal.172], id=173, pos=[(0,3407,22)])
  result_exp__4: bits[8] = sel(is_result_nan, cases=[result_exp__3, high_exp], id=165, pos=[(0,3404,21)])
  result_fraction__4: bits[23] = sel(is_result_nan, cases=[result_fraction__3, nan_fraction], id=171, pos=[(0,3406,26)])
  SIGNED_EXP: bits[32] = add(WIDE_EXP, literal.50, id=51, pos=[(0,3274,28)])
  ROUNDING_FRACTION: bits[32] = add(FRACTION_SZ, literal.52, id=53, pos=[(0,3278,35)])
  WIDE_FRACTION: bits[32] = add(add.54, literal.55, id=56, pos=[(0,3282,31)])
  FRACTION_ROUNDING_BIT: bits[32] = sub(FRACTION_SZ, literal.57, id=58, pos=[(0,3284,39)])
  STICKY_FRACTION: bits[32] = add(FRACTION_SZ, literal.59, id=60, pos=[(0,3288,33)])
  ret tuple.174: (bits[1], bits[8], bits[23]) = tuple(result_sign__1, result_exp__4, result_fraction__4, id=174, pos=[(0,3409,33)])
}

fn __float32__mul(x: (bits[1], bits[8], bits[23]) id=175, y: (bits[1], bits[8], bits[23]) id=176) -> (bits[1], bits[8], bits[23]) {
  ret invoke.177: (bits[1], bits[8], bits[23]) = invoke(x, y, to_apply=__apfloat__mul__8_23, id=177, pos=[(1,367,48)])
}

fn __std__uadd_with_overflow__8_8_8_8_8(x: bits[8] id=178, y: bits[8] id=179) -> (bits[1], bits[8]) {
  x_extended: bits[9] = zero_ext(x, new_bit_count=9, id=185)
  y_extended: bits[9] = zero_ext(y, new_bit_count=9, id=186)
  full_result: bits[9] = add(x_extended, y_extended, id=187, pos=[(3,1119,45)])
  bit_slice.189: bits[1] = bit_slice(full_result, start=8, width=1, id=189, pos=[(3,1121,49)])
  overflow_detected: bits[1] = or_reduce(bit_slice.189, id=190, pos=[(3,1121,37)])
  narrowed_result: bits[8] = bit_slice(full_result, start=0, width=8, id=188)
  V: bits[32] = literal(value=8, id=180, pos=[(3,1113,5)])
  N: bits[32] = literal(value=8, id=181, pos=[(3,1113,13)])
  M: bits[32] = literal(value=8, id=182, pos=[(3,1113,21)])
  MAX_N_M: bits[32] = literal(value=8, id=183, pos=[(3,1113,29)])
  MAX_N_M_V: bits[32] = literal(value=8, id=184, pos=[(3,1113,57)])
  ret tuple.191: (bits[1], bits[8]) = tuple(overflow_detected, narrowed_result, id=191, pos=[(3,1123,4)])
}

fn __abs_diff__abs_diff__8(x: bits[8] id=192, y: bits[8] id=193) -> (bits[1], bits[8]) {
  ynot: bits[8] = not(y, id=195, pos=[(4,90,15)])
  invoke.196: (bits[1], bits[8]) = invoke(x, ynot, to_apply=__std__uadd_with_overflow__8_8_8_8_8, id=196, pos=[(4,91,63)])
  carry_out: bits[1] = tuple_index(invoke.196, index=0, id=197, pos=[(4,91,9)])
  nc: bits[1] = not(carry_out, id=199, pos=[(4,92,19)])
  z: bits[8] = tuple_index(invoke.196, index=1, id=198, pos=[(4,91,20)])
  xor_mask: bits[8] = sign_ext(nc, new_bit_count=8, id=201, pos=[(4,94,32)])
  result: bits[8] = xor(z, xor_mask, id=202, pos=[(4,95,18)])
  N: bits[32] = literal(value=8, id=194, pos=[(4,89,16)])
  literal.200: bits[8] = literal(value=0, id=200, pos=[(4,94,42)])
  ret tuple.203: (bits[1], bits[8]) = tuple(carry_out, result, id=203, pos=[(4,96,18)])
}

fn __abs_diff__is_x_larger__8(adr: (bits[1], bits[8]) id=204) -> bits[1] {
  N: bits[32] = literal(value=8, id=205, pos=[(4,47,19)])
  ret adr_correction: bits[1] = tuple_index(adr, index=0, id=206, pos=[(4,47,63)])
}

fn __abs_diff__to_corrected__8(adr: (bits[1], bits[8]) id=207) -> bits[8] {
  adr_correction: bits[1] = tuple_index(adr, index=0, id=210, pos=[(4,54,25)])
  adr_uncorrected: bits[8] = tuple_index(adr, index=1, id=209, pos=[(4,54,7)])
  zero_ext.211: bits[8] = zero_ext(adr_correction, new_bit_count=8, id=211)
  N: bits[32] = literal(value=8, id=208, pos=[(4,53,20)])
  ret add.212: bits[8] = add(adr_uncorrected, zero_ext.211, id=212, pos=[(4,54,7)])
}

fn __apfloat__sign_magnitude_difference__8(a: bits[8] id=213, b: bits[8] id=214) -> (bits[1], bits[8]) {
  abs_diff_result: (bits[1], bits[8]) = invoke(a, b, to_apply=__abs_diff__abs_diff__8, id=216, pos=[(0,3009,44)])
  invoke.217: bits[1] = invoke(abs_diff_result, to_apply=__abs_diff__is_x_larger__8, id=217, pos=[(0,3010,27)])
  not.218: bits[1] = not(invoke.217, id=218, pos=[(0,3010,5)])
  invoke.219: bits[8] = invoke(abs_diff_result, to_apply=__abs_diff__to_corrected__8, id=219, pos=[(0,3010,68)])
  WIDTH: bits[32] = literal(value=8, id=215, pos=[(0,3008,29)])
  ret tuple.220: (bits[1], bits[8]) = tuple(not.218, invoke.219, id=220, pos=[(0,3010,4)])
}

fn __std__keep_lsbs__8_28(x: bits[28] id=221, n: bits[8] id=222) -> bits[28] {
  literal.225: bits[28] = literal(value=268435455, id=225, pos=[(3,1411,19)])
  shll.226: bits[28] = shll(literal.225, n, id=226, pos=[(3,1411,19)])
  not.227: bits[28] = not(shll.226, id=227, pos=[(3,1411,8)])
  WIDTH: bits[32] = literal(value=28, id=223, pos=[(3,1410,17)])
  N_WIDTH: bits[32] = literal(value=8, id=224, pos=[(3,1410,29)])
  ret and.228: bits[28] = and(x, not.227, id=228, pos=[(3,1411,4)])
}

fn __std__or_reduce_lsb_impl__1_8_28(value: bits[28] id=229, n: bits[8] id=230) -> bits[1] {
  WIDTH: bits[32] = literal(value=28, id=232, pos=[(3,1497,42)])
  bit_slice.237: bits[8] = bit_slice(WIDTH, start=0, width=8, id=237)
  sub.238: bits[8] = sub(bit_slice.237, n, id=238, pos=[(3,1504,18)])
  shll.239: bits[28] = shll(value, sub.238, id=239, pos=[(3,1504,8)])
  literal.240: bits[28] = literal(value=0, id=240, pos=[(3,1504,47)])
  invoke.234: bits[28] = invoke(value, n, to_apply=__std__keep_lsbs__8_28, id=234, pos=[(3,1501,17)])
  literal.235: bits[28] = literal(value=0, id=235, pos=[(3,1501,31)])
  DO_MASK_IMPL: bits[1] = literal(value=1, id=231, pos=[(3,1497,22)])
  ne.241: bits[1] = ne(shll.239, literal.240, id=241, pos=[(3,1504,8)])
  ne.236: bits[1] = ne(invoke.234, literal.235, id=236, pos=[(3,1501,17)])
  N_WIDTH: bits[32] = literal(value=8, id=233, pos=[(3,1497,54)])
  ret sel.242: bits[1] = sel(DO_MASK_IMPL, cases=[ne.241, ne.236], id=242, pos=[(3,1499,4)])
}

fn __std__or_reduce_lsb__8_28(value: bits[28] id=243, n: bits[8] id=244) -> bits[1] {
  WIDTH: bits[32] = literal(value=28, id=245, pos=[(3,1527,21)])
  N_WIDTH: bits[32] = literal(value=8, id=246, pos=[(3,1527,33)])
  ret invoke.247: bits[1] = invoke(value, n, to_apply=__std__or_reduce_lsb_impl__1_8_28, id=247, pos=[(3,1528,22)])
}

fn __apfloat__or_last_bit__28(value: bits[28] id=248, lsb: bits[1] id=249) -> bits[28] {
  bit_slice.252: bits[1] = bit_slice(value, start=0, width=1, id=252, pos=[(0,3053,40)])
  literal.251: bits[1] = literal(value=0, id=251, pos=[(0,3053,28)])
  or.253: bits[1] = or(bit_slice.252, lsb, id=253, pos=[(0,3053,40)])
  WIDTH: bits[32] = literal(value=28, id=250, pos=[(0,3052,15)])
  ret bit_slice_update.254: bits[28] = bit_slice_update(value, literal.251, or.253, id=254, pos=[(0,3053,20)])
}

fn __apfloat__or_last_bit__27(value: bits[27] id=255, lsb: bits[1] id=256) -> bits[27] {
  bit_slice.259: bits[1] = bit_slice(value, start=0, width=1, id=259, pos=[(0,3053,40)])
  literal.258: bits[1] = literal(value=0, id=258, pos=[(0,3053,28)])
  or.260: bits[1] = or(bit_slice.259, lsb, id=260, pos=[(0,3053,40)])
  WIDTH: bits[32] = literal(value=27, id=257, pos=[(0,3052,15)])
  ret bit_slice_update.261: bits[27] = bit_slice_update(value, literal.258, or.260, id=261, pos=[(0,3053,20)])
}

fn __std__clog2__32(x: bits[32] id=262) -> bits[32] {
  literal.267: bits[32] = literal(value=1, id=267, pos=[(3,716,49)])
  sub.268: bits[32] = sub(x, literal.267, id=268, pos=[(3,716,45)])
  reverse.269: bits[32] = reverse(sub.268, id=269, pos=[(3,716,44)])
  one_hot.270: bits[33] = one_hot(reverse.269, lsb_prio=true, id=270, pos=[(3,716,44)])
  N: bits[32] = literal(value=32, id=263, pos=[(3,715,13)])
  encode.271: bits[6] = encode(one_hot.270, id=271, pos=[(3,716,44)])
  literal.264: bits[32] = literal(value=1, id=264, pos=[(3,716,12)])
  zero_ext.266: bits[32] = zero_ext(N, new_bit_count=32, id=266)
  zero_ext.272: bits[32] = zero_ext(encode.271, new_bit_count=32, id=272, pos=[(3,716,44)])
  uge.265: bits[1] = uge(x, literal.264, id=265, pos=[(3,716,7)])
  literal.274: bits[32] = literal(value=0, id=274, pos=[(3,716,69)])
  sub.273: bits[32] = sub(zero_ext.266, zero_ext.272, id=273, pos=[(3,716,25)])
  ret sel.275: bits[32] = sel(uge.265, cases=[literal.274, sub.273], id=275, pos=[(3,716,4)])
}

fn ____std__pow__32_0_counted_for_0_body(i: bits[32] id=282, __loop_carry: (bits[32], bits[32], bits[32]) id=285) -> (bits[32], bits[32], bits[32]) {
  tuple_index.287: bits[32] = tuple_index(__loop_carry, index=0, id=287)
  literal.297: bits[32] = literal(value=1, id=297, pos=[(3,960,29)])
  literal.286: bits[1] = literal(value=1, id=286)
  literal.288: bits[1] = literal(value=1, id=288)
  literal.305: bits[32] = literal(value=0, id=305, pos=[(3,961,25)])
  tuple_index.290: bits[32] = tuple_index(__loop_carry, index=1, id=290)
  and.298: bits[32] = and(tuple_index.287, literal.297, id=298, pos=[(3,960,25)])
  literal.299: bits[32] = literal(value=1, id=299, pos=[(3,960,41)])
  tuple_index.293: bits[32] = tuple_index(__loop_carry, index=2, id=293)
  and.289: bits[1] = and(literal.286, literal.288, id=289)
  literal.291: bits[1] = literal(value=1, id=291)
  literal.303: bits[1] = literal(value=1, id=303, pos=[(3,961,14)])
  eq.306: bits[1] = eq(tuple_index.287, literal.305, id=306, pos=[(3,961,20)])
  umul.307: bits[32] = umul(tuple_index.290, tuple_index.290, id=307, pos=[(3,961,46)])
  eq.300: bits[1] = eq(and.298, literal.299, id=300, pos=[(3,960,25)])
  umul.301: bits[32] = umul(tuple_index.293, tuple_index.290, id=301, pos=[(3,960,51)])
  literal.283: bits[32] = literal(value=0, id=283)
  and.292: bits[1] = and(and.289, literal.291, id=292)
  literal.294: bits[1] = literal(value=1, id=294)
  shrl.304: bits[32] = shrl(tuple_index.287, literal.303, id=304, pos=[(3,961,9)])
  sel.308: bits[32] = sel(eq.306, cases=[umul.307, tuple_index.290], id=308, pos=[(3,961,17)])
  result: bits[32] = sel(eq.300, cases=[tuple_index.293, umul.301], id=302, pos=[(3,960,21)])
  add.284: bits[32] = add(i, literal.283, id=284)
  and.295: bits[1] = and(and.292, literal.294, id=295)
  literal.296: bits[32] = literal(value=32, id=296, pos=[(3,955,20)])
  ret tuple.309: (bits[32], bits[32], bits[32]) = tuple(shrl.304, sel.308, result, id=309, pos=[(3,961,8)])
}

fn __std__pow__32_0(x: bits[32] id=276, n: bits[32] id=277) -> bits[32] {
  result: bits[32] = literal(value=1, id=280, pos=[(3,956,17)])
  tuple.281: (bits[32], bits[32], bits[32]) = tuple(n, x, result, id=281, pos=[(3,962,6)])
  work: (bits[32], bits[32], bits[32]) = counted_for(tuple.281, trip_count=32, stride=1, body=____std__pow__32_0_counted_for_0_body, id=310)
  S: bits[1] = literal(value=0, id=278, pos=[(3,955,11)])
  N: bits[32] = literal(value=32, id=279, pos=[(3,955,20)])
  literal.311: bits[32] = literal(value=2, id=311, pos=[(3,963,9)])
  ret tuple_index.312: bits[32] = tuple_index(work, index=2, id=312, pos=[(3,963,8)])
}

fn __std__upow__32(x: bits[32] id=313, n: bits[32] id=314) -> bits[32] {
  N: bits[32] = literal(value=32, id=315, pos=[(3,966,12)])
  ret invoke.316: bits[32] = invoke(x, n, to_apply=__std__pow__32_0, id=316, pos=[(3,966,54)])
}

fn __std__next_pow2(n: bits[32] id=317) -> bits[32] {
  literal.318: bits[32] = literal(value=2, id=318, pos=[(3,1685,39)])
  invoke.319: bits[32] = invoke(n, to_apply=__std__clog2__32, id=319, pos=[(3,1685,51)])
  ret invoke.320: bits[32] = invoke(literal.318, invoke.319, to_apply=__std__upow__32, id=320, pos=[(3,1685,38)])
}

fn __std__mask_bits__4() -> bits[4] {
  literal.322: bits[4] = literal(value=0, id=322, pos=[(3,835,41)])
  X: bits[32] = literal(value=4, id=321, pos=[(3,835,17)])
  ret not.323: bits[4] = not(literal.322, id=323, pos=[(3,835,40)])
}

fn __std__clzt_pow2_1(value: bits[1] id=324) -> bits[1] {
  ret not.325: bits[1] = not(value, id=325, pos=[(3,1583,4)])
}

fn __std__combine_clzt_halfs__1(left: bits[1] id=326, right: bits[1] id=327) -> bits[2] {
  bit_slice.329: bits[1] = bit_slice(left, start=0, width=1, id=329, pos=[(3,1538,15)])
  bit_slice.330: bits[1] = bit_slice(right, start=0, width=1, id=330, pos=[(3,1538,27)])
  tuple.331: (bits[1], bits[1]) = tuple(bit_slice.329, bit_slice.330, id=331, pos=[(3,1538,10)])
  literal.345: bits[1] = literal(value=1, id=345, pos=[(3,1540,9)])
  tuple_index.344: bits[1] = tuple_index(tuple.331, index=0, id=344)
  literal.334: bits[1] = literal(value=1, id=334, pos=[(3,1539,9)])
  tuple_index.333: bits[1] = tuple_index(tuple.331, index=0, id=333)
  literal.343: bits[1] = literal(value=1, id=343)
  eq.346: bits[1] = eq(literal.345, tuple_index.344, id=346)
  literal.349: bits[1] = literal(value=0, id=349, pos=[(3,1540,15)])
  tuple_index.348: bits[1] = tuple_index(tuple.331, index=1, id=348)
  literal.332: bits[1] = literal(value=1, id=332)
  eq.335: bits[1] = eq(literal.334, tuple_index.333, id=335)
  literal.338: bits[1] = literal(value=1, id=338, pos=[(3,1539,15)])
  tuple_index.337: bits[1] = tuple_index(tuple.331, index=1, id=337)
  and.347: bits[1] = and(literal.343, eq.346, id=347)
  eq.350: bits[1] = eq(literal.349, tuple_index.348, id=350)
  and.336: bits[1] = and(literal.332, eq.335, id=336)
  eq.339: bits[1] = eq(literal.338, tuple_index.337, id=339)
  and.351: bits[1] = and(and.347, eq.350, id=351)
  and.340: bits[1] = and(and.336, eq.339, id=340)
  literal.341: bits[1] = literal(value=0, id=341, pos=[(3,1539,32)])
  literal.352: bits[2] = literal(value=1, id=352, pos=[(3,1540,24)])
  bit_slice.353: bits[0] = bit_slice(right, start=0, width=0, id=353, pos=[(3,1540,40)])
  literal.356: bits[1] = literal(value=0, id=356, pos=[(3,1541,13)])
  concat.358: bits[2] = concat(and.351, and.340, id=358)
  concat.342: bits[2] = concat(left, literal.341, id=342, pos=[(3,1539,24)])
  concat.354: bits[2] = concat(literal.352, bit_slice.353, id=354, pos=[(3,1540,24)])
  concat.357: bits[2] = concat(literal.356, left, id=357, pos=[(3,1541,13)])
  N: bits[32] = literal(value=1, id=328, pos=[(3,1537,22)])
  literal.355: bits[1] = literal(value=1, id=355, pos=[(3,1541,8)])
  ret priority_sel.359: bits[2] = priority_sel(concat.358, cases=[concat.342, concat.354], default=concat.357, id=359)
}

fn __std__clzt_pow2_2(value: bits[2] id=360) -> bits[2] {
  literal.361: bits[32] = literal(value=2, id=361, pos=[(3,1589,20)])
  literal.362: bits[1] = literal(value=1, id=362, pos=[(3,1589,29)])
  bit_slice.365: bits[1] = bit_slice(value, start=1, width=1, id=365, pos=[(3,1590,40)])
  bit_slice.367: bits[1] = bit_slice(value, start=0, width=1, id=367, pos=[(3,1590,70)])
  shrl.363: bits[32] = shrl(literal.361, literal.362, id=363, pos=[(3,1589,20)])
  invoke.366: bits[1] = invoke(bit_slice.365, to_apply=__std__clzt_pow2_1, id=366, pos=[(3,1590,34)])
  invoke.368: bits[1] = invoke(bit_slice.367, to_apply=__std__clzt_pow2_1, id=368, pos=[(3,1590,64)])
  N_HALF: bits[32] = zero_ext(shrl.363, new_bit_count=32, id=364)
  ret invoke.369: bits[2] = invoke(invoke.366, invoke.368, to_apply=__std__combine_clzt_halfs__1, id=369, pos=[(3,1590,22)])
}

fn __std__combine_clzt_halfs__2(left: bits[2] id=370, right: bits[2] id=371) -> bits[3] {
  bit_slice.373: bits[1] = bit_slice(left, start=1, width=1, id=373, pos=[(3,1538,15)])
  bit_slice.374: bits[1] = bit_slice(right, start=1, width=1, id=374, pos=[(3,1538,27)])
  tuple.375: (bits[1], bits[1]) = tuple(bit_slice.373, bit_slice.374, id=375, pos=[(3,1538,10)])
  literal.389: bits[1] = literal(value=1, id=389, pos=[(3,1540,9)])
  tuple_index.388: bits[1] = tuple_index(tuple.375, index=0, id=388)
  literal.378: bits[1] = literal(value=1, id=378, pos=[(3,1539,9)])
  tuple_index.377: bits[1] = tuple_index(tuple.375, index=0, id=377)
  literal.387: bits[1] = literal(value=1, id=387)
  eq.390: bits[1] = eq(literal.389, tuple_index.388, id=390)
  literal.393: bits[1] = literal(value=0, id=393, pos=[(3,1540,15)])
  tuple_index.392: bits[1] = tuple_index(tuple.375, index=1, id=392)
  literal.376: bits[1] = literal(value=1, id=376)
  eq.379: bits[1] = eq(literal.378, tuple_index.377, id=379)
  literal.382: bits[1] = literal(value=1, id=382, pos=[(3,1539,15)])
  tuple_index.381: bits[1] = tuple_index(tuple.375, index=1, id=381)
  and.391: bits[1] = and(literal.387, eq.390, id=391)
  eq.394: bits[1] = eq(literal.393, tuple_index.392, id=394)
  and.380: bits[1] = and(literal.376, eq.379, id=380)
  eq.383: bits[1] = eq(literal.382, tuple_index.381, id=383)
  and.395: bits[1] = and(and.391, eq.394, id=395)
  and.384: bits[1] = and(and.380, eq.383, id=384)
  literal.385: bits[1] = literal(value=0, id=385, pos=[(3,1539,32)])
  literal.396: bits[2] = literal(value=1, id=396, pos=[(3,1540,24)])
  bit_slice.397: bits[1] = bit_slice(right, start=0, width=1, id=397, pos=[(3,1540,40)])
  literal.400: bits[1] = literal(value=0, id=400, pos=[(3,1541,13)])
  concat.402: bits[2] = concat(and.395, and.384, id=402)
  concat.386: bits[3] = concat(left, literal.385, id=386, pos=[(3,1539,24)])
  concat.398: bits[3] = concat(literal.396, bit_slice.397, id=398, pos=[(3,1540,24)])
  concat.401: bits[3] = concat(literal.400, left, id=401, pos=[(3,1541,13)])
  N: bits[32] = literal(value=2, id=372, pos=[(3,1537,22)])
  literal.399: bits[1] = literal(value=1, id=399, pos=[(3,1541,8)])
  ret priority_sel.403: bits[3] = priority_sel(concat.402, cases=[concat.386, concat.398], default=concat.401, id=403)
}

fn __std__clzt_pow2_4(value: bits[4] id=404) -> bits[3] {
  literal.405: bits[32] = literal(value=4, id=405, pos=[(3,1594,20)])
  literal.406: bits[1] = literal(value=1, id=406, pos=[(3,1594,29)])
  bit_slice.409: bits[2] = bit_slice(value, start=2, width=2, id=409, pos=[(3,1595,40)])
  bit_slice.411: bits[2] = bit_slice(value, start=0, width=2, id=411, pos=[(3,1595,70)])
  shrl.407: bits[32] = shrl(literal.405, literal.406, id=407, pos=[(3,1594,20)])
  invoke.410: bits[2] = invoke(bit_slice.409, to_apply=__std__clzt_pow2_2, id=410, pos=[(3,1595,34)])
  invoke.412: bits[2] = invoke(bit_slice.411, to_apply=__std__clzt_pow2_2, id=412, pos=[(3,1595,64)])
  N_HALF: bits[32] = zero_ext(shrl.407, new_bit_count=32, id=408)
  ret invoke.413: bits[3] = invoke(invoke.410, invoke.412, to_apply=__std__combine_clzt_halfs__2, id=413, pos=[(3,1595,22)])
}

fn __std__combine_clzt_halfs__3(left: bits[3] id=414, right: bits[3] id=415) -> bits[4] {
  bit_slice.417: bits[1] = bit_slice(left, start=2, width=1, id=417, pos=[(3,1538,15)])
  bit_slice.418: bits[1] = bit_slice(right, start=2, width=1, id=418, pos=[(3,1538,27)])
  tuple.419: (bits[1], bits[1]) = tuple(bit_slice.417, bit_slice.418, id=419, pos=[(3,1538,10)])
  literal.433: bits[1] = literal(value=1, id=433, pos=[(3,1540,9)])
  tuple_index.432: bits[1] = tuple_index(tuple.419, index=0, id=432)
  literal.422: bits[1] = literal(value=1, id=422, pos=[(3,1539,9)])
  tuple_index.421: bits[1] = tuple_index(tuple.419, index=0, id=421)
  literal.431: bits[1] = literal(value=1, id=431)
  eq.434: bits[1] = eq(literal.433, tuple_index.432, id=434)
  literal.437: bits[1] = literal(value=0, id=437, pos=[(3,1540,15)])
  tuple_index.436: bits[1] = tuple_index(tuple.419, index=1, id=436)
  literal.420: bits[1] = literal(value=1, id=420)
  eq.423: bits[1] = eq(literal.422, tuple_index.421, id=423)
  literal.426: bits[1] = literal(value=1, id=426, pos=[(3,1539,15)])
  tuple_index.425: bits[1] = tuple_index(tuple.419, index=1, id=425)
  and.435: bits[1] = and(literal.431, eq.434, id=435)
  eq.438: bits[1] = eq(literal.437, tuple_index.436, id=438)
  and.424: bits[1] = and(literal.420, eq.423, id=424)
  eq.427: bits[1] = eq(literal.426, tuple_index.425, id=427)
  and.439: bits[1] = and(and.435, eq.438, id=439)
  and.428: bits[1] = and(and.424, eq.427, id=428)
  literal.429: bits[1] = literal(value=0, id=429, pos=[(3,1539,32)])
  literal.440: bits[2] = literal(value=1, id=440, pos=[(3,1540,24)])
  bit_slice.441: bits[2] = bit_slice(right, start=0, width=2, id=441, pos=[(3,1540,40)])
  literal.444: bits[1] = literal(value=0, id=444, pos=[(3,1541,13)])
  concat.446: bits[2] = concat(and.439, and.428, id=446)
  concat.430: bits[4] = concat(left, literal.429, id=430, pos=[(3,1539,24)])
  concat.442: bits[4] = concat(literal.440, bit_slice.441, id=442, pos=[(3,1540,24)])
  concat.445: bits[4] = concat(literal.444, left, id=445, pos=[(3,1541,13)])
  N: bits[32] = literal(value=3, id=416, pos=[(3,1537,22)])
  literal.443: bits[1] = literal(value=1, id=443, pos=[(3,1541,8)])
  ret priority_sel.447: bits[4] = priority_sel(concat.446, cases=[concat.430, concat.442], default=concat.445, id=447)
}

fn __std__clzt_pow2_8(value: bits[8] id=448) -> bits[4] {
  literal.449: bits[32] = literal(value=8, id=449, pos=[(3,1599,20)])
  literal.450: bits[1] = literal(value=1, id=450, pos=[(3,1599,29)])
  bit_slice.453: bits[4] = bit_slice(value, start=4, width=4, id=453, pos=[(3,1600,40)])
  bit_slice.455: bits[4] = bit_slice(value, start=0, width=4, id=455, pos=[(3,1600,70)])
  shrl.451: bits[32] = shrl(literal.449, literal.450, id=451, pos=[(3,1599,20)])
  invoke.454: bits[3] = invoke(bit_slice.453, to_apply=__std__clzt_pow2_4, id=454, pos=[(3,1600,34)])
  invoke.456: bits[3] = invoke(bit_slice.455, to_apply=__std__clzt_pow2_4, id=456, pos=[(3,1600,64)])
  N_HALF: bits[32] = zero_ext(shrl.451, new_bit_count=32, id=452)
  ret invoke.457: bits[4] = invoke(invoke.454, invoke.456, to_apply=__std__combine_clzt_halfs__3, id=457, pos=[(3,1600,22)])
}

fn __std__combine_clzt_halfs__4(left: bits[4] id=458, right: bits[4] id=459) -> bits[5] {
  bit_slice.461: bits[1] = bit_slice(left, start=3, width=1, id=461, pos=[(3,1538,15)])
  bit_slice.462: bits[1] = bit_slice(right, start=3, width=1, id=462, pos=[(3,1538,27)])
  tuple.463: (bits[1], bits[1]) = tuple(bit_slice.461, bit_slice.462, id=463, pos=[(3,1538,10)])
  literal.477: bits[1] = literal(value=1, id=477, pos=[(3,1540,9)])
  tuple_index.476: bits[1] = tuple_index(tuple.463, index=0, id=476)
  literal.466: bits[1] = literal(value=1, id=466, pos=[(3,1539,9)])
  tuple_index.465: bits[1] = tuple_index(tuple.463, index=0, id=465)
  literal.475: bits[1] = literal(value=1, id=475)
  eq.478: bits[1] = eq(literal.477, tuple_index.476, id=478)
  literal.481: bits[1] = literal(value=0, id=481, pos=[(3,1540,15)])
  tuple_index.480: bits[1] = tuple_index(tuple.463, index=1, id=480)
  literal.464: bits[1] = literal(value=1, id=464)
  eq.467: bits[1] = eq(literal.466, tuple_index.465, id=467)
  literal.470: bits[1] = literal(value=1, id=470, pos=[(3,1539,15)])
  tuple_index.469: bits[1] = tuple_index(tuple.463, index=1, id=469)
  and.479: bits[1] = and(literal.475, eq.478, id=479)
  eq.482: bits[1] = eq(literal.481, tuple_index.480, id=482)
  and.468: bits[1] = and(literal.464, eq.467, id=468)
  eq.471: bits[1] = eq(literal.470, tuple_index.469, id=471)
  and.483: bits[1] = and(and.479, eq.482, id=483)
  and.472: bits[1] = and(and.468, eq.471, id=472)
  literal.473: bits[1] = literal(value=0, id=473, pos=[(3,1539,32)])
  literal.484: bits[2] = literal(value=1, id=484, pos=[(3,1540,24)])
  bit_slice.485: bits[3] = bit_slice(right, start=0, width=3, id=485, pos=[(3,1540,40)])
  literal.488: bits[1] = literal(value=0, id=488, pos=[(3,1541,13)])
  concat.490: bits[2] = concat(and.483, and.472, id=490)
  concat.474: bits[5] = concat(left, literal.473, id=474, pos=[(3,1539,24)])
  concat.486: bits[5] = concat(literal.484, bit_slice.485, id=486, pos=[(3,1540,24)])
  concat.489: bits[5] = concat(literal.488, left, id=489, pos=[(3,1541,13)])
  N: bits[32] = literal(value=4, id=460, pos=[(3,1537,22)])
  literal.487: bits[1] = literal(value=1, id=487, pos=[(3,1541,8)])
  ret priority_sel.491: bits[5] = priority_sel(concat.490, cases=[concat.474, concat.486], default=concat.489, id=491)
}

fn __std__clzt_pow2_16(value: bits[16] id=492) -> bits[5] {
  literal.493: bits[32] = literal(value=16, id=493, pos=[(3,1604,20)])
  literal.494: bits[1] = literal(value=1, id=494, pos=[(3,1604,30)])
  bit_slice.497: bits[8] = bit_slice(value, start=8, width=8, id=497, pos=[(3,1605,40)])
  bit_slice.499: bits[8] = bit_slice(value, start=0, width=8, id=499, pos=[(3,1605,70)])
  shrl.495: bits[32] = shrl(literal.493, literal.494, id=495, pos=[(3,1604,20)])
  invoke.498: bits[4] = invoke(bit_slice.497, to_apply=__std__clzt_pow2_8, id=498, pos=[(3,1605,34)])
  invoke.500: bits[4] = invoke(bit_slice.499, to_apply=__std__clzt_pow2_8, id=500, pos=[(3,1605,64)])
  N_HALF: bits[32] = zero_ext(shrl.495, new_bit_count=32, id=496)
  ret invoke.501: bits[5] = invoke(invoke.498, invoke.500, to_apply=__std__combine_clzt_halfs__4, id=501, pos=[(3,1605,22)])
}

fn __std__combine_clzt_halfs__5(left: bits[5] id=502, right: bits[5] id=503) -> bits[6] {
  bit_slice.505: bits[1] = bit_slice(left, start=4, width=1, id=505, pos=[(3,1538,15)])
  bit_slice.506: bits[1] = bit_slice(right, start=4, width=1, id=506, pos=[(3,1538,27)])
  tuple.507: (bits[1], bits[1]) = tuple(bit_slice.505, bit_slice.506, id=507, pos=[(3,1538,10)])
  literal.521: bits[1] = literal(value=1, id=521, pos=[(3,1540,9)])
  tuple_index.520: bits[1] = tuple_index(tuple.507, index=0, id=520)
  literal.510: bits[1] = literal(value=1, id=510, pos=[(3,1539,9)])
  tuple_index.509: bits[1] = tuple_index(tuple.507, index=0, id=509)
  literal.519: bits[1] = literal(value=1, id=519)
  eq.522: bits[1] = eq(literal.521, tuple_index.520, id=522)
  literal.525: bits[1] = literal(value=0, id=525, pos=[(3,1540,15)])
  tuple_index.524: bits[1] = tuple_index(tuple.507, index=1, id=524)
  literal.508: bits[1] = literal(value=1, id=508)
  eq.511: bits[1] = eq(literal.510, tuple_index.509, id=511)
  literal.514: bits[1] = literal(value=1, id=514, pos=[(3,1539,15)])
  tuple_index.513: bits[1] = tuple_index(tuple.507, index=1, id=513)
  and.523: bits[1] = and(literal.519, eq.522, id=523)
  eq.526: bits[1] = eq(literal.525, tuple_index.524, id=526)
  and.512: bits[1] = and(literal.508, eq.511, id=512)
  eq.515: bits[1] = eq(literal.514, tuple_index.513, id=515)
  and.527: bits[1] = and(and.523, eq.526, id=527)
  and.516: bits[1] = and(and.512, eq.515, id=516)
  literal.517: bits[1] = literal(value=0, id=517, pos=[(3,1539,32)])
  literal.528: bits[2] = literal(value=1, id=528, pos=[(3,1540,24)])
  bit_slice.529: bits[4] = bit_slice(right, start=0, width=4, id=529, pos=[(3,1540,40)])
  literal.532: bits[1] = literal(value=0, id=532, pos=[(3,1541,13)])
  concat.534: bits[2] = concat(and.527, and.516, id=534)
  concat.518: bits[6] = concat(left, literal.517, id=518, pos=[(3,1539,24)])
  concat.530: bits[6] = concat(literal.528, bit_slice.529, id=530, pos=[(3,1540,24)])
  concat.533: bits[6] = concat(literal.532, left, id=533, pos=[(3,1541,13)])
  N: bits[32] = literal(value=5, id=504, pos=[(3,1537,22)])
  literal.531: bits[1] = literal(value=1, id=531, pos=[(3,1541,8)])
  ret priority_sel.535: bits[6] = priority_sel(concat.534, cases=[concat.518, concat.530], default=concat.533, id=535)
}

fn __std__clzt_pow2_32(value: bits[32] id=536) -> bits[6] {
  literal.537: bits[32] = literal(value=32, id=537, pos=[(3,1609,20)])
  literal.538: bits[1] = literal(value=1, id=538, pos=[(3,1609,30)])
  bit_slice.541: bits[16] = bit_slice(value, start=16, width=16, id=541, pos=[(3,1610,41)])
  bit_slice.543: bits[16] = bit_slice(value, start=0, width=16, id=543, pos=[(3,1610,72)])
  shrl.539: bits[32] = shrl(literal.537, literal.538, id=539, pos=[(3,1609,20)])
  invoke.542: bits[5] = invoke(bit_slice.541, to_apply=__std__clzt_pow2_16, id=542, pos=[(3,1610,35)])
  invoke.544: bits[5] = invoke(bit_slice.543, to_apply=__std__clzt_pow2_16, id=544, pos=[(3,1610,66)])
  N_HALF: bits[32] = zero_ext(shrl.539, new_bit_count=32, id=540)
  ret invoke.545: bits[6] = invoke(invoke.542, invoke.544, to_apply=__std__combine_clzt_halfs__5, id=545, pos=[(3,1610,22)])
}

fn __std__combine_clzt_halfs__6(left: bits[6] id=546, right: bits[6] id=547) -> bits[7] {
  bit_slice.549: bits[1] = bit_slice(left, start=5, width=1, id=549, pos=[(3,1538,15)])
  bit_slice.550: bits[1] = bit_slice(right, start=5, width=1, id=550, pos=[(3,1538,27)])
  tuple.551: (bits[1], bits[1]) = tuple(bit_slice.549, bit_slice.550, id=551, pos=[(3,1538,10)])
  literal.565: bits[1] = literal(value=1, id=565, pos=[(3,1540,9)])
  tuple_index.564: bits[1] = tuple_index(tuple.551, index=0, id=564)
  literal.554: bits[1] = literal(value=1, id=554, pos=[(3,1539,9)])
  tuple_index.553: bits[1] = tuple_index(tuple.551, index=0, id=553)
  literal.563: bits[1] = literal(value=1, id=563)
  eq.566: bits[1] = eq(literal.565, tuple_index.564, id=566)
  literal.569: bits[1] = literal(value=0, id=569, pos=[(3,1540,15)])
  tuple_index.568: bits[1] = tuple_index(tuple.551, index=1, id=568)
  literal.552: bits[1] = literal(value=1, id=552)
  eq.555: bits[1] = eq(literal.554, tuple_index.553, id=555)
  literal.558: bits[1] = literal(value=1, id=558, pos=[(3,1539,15)])
  tuple_index.557: bits[1] = tuple_index(tuple.551, index=1, id=557)
  and.567: bits[1] = and(literal.563, eq.566, id=567)
  eq.570: bits[1] = eq(literal.569, tuple_index.568, id=570)
  and.556: bits[1] = and(literal.552, eq.555, id=556)
  eq.559: bits[1] = eq(literal.558, tuple_index.557, id=559)
  and.571: bits[1] = and(and.567, eq.570, id=571)
  and.560: bits[1] = and(and.556, eq.559, id=560)
  literal.561: bits[1] = literal(value=0, id=561, pos=[(3,1539,32)])
  literal.572: bits[2] = literal(value=1, id=572, pos=[(3,1540,24)])
  bit_slice.573: bits[5] = bit_slice(right, start=0, width=5, id=573, pos=[(3,1540,40)])
  literal.576: bits[1] = literal(value=0, id=576, pos=[(3,1541,13)])
  concat.578: bits[2] = concat(and.571, and.560, id=578)
  concat.562: bits[7] = concat(left, literal.561, id=562, pos=[(3,1539,24)])
  concat.574: bits[7] = concat(literal.572, bit_slice.573, id=574, pos=[(3,1540,24)])
  concat.577: bits[7] = concat(literal.576, left, id=577, pos=[(3,1541,13)])
  N: bits[32] = literal(value=6, id=548, pos=[(3,1537,22)])
  literal.575: bits[1] = literal(value=1, id=575, pos=[(3,1541,8)])
  ret priority_sel.579: bits[7] = priority_sel(concat.578, cases=[concat.562, concat.574], default=concat.577, id=579)
}

fn __std__clzt_pow2_64(value: bits[64] id=580) -> bits[7] {
  literal.581: bits[32] = literal(value=64, id=581, pos=[(3,1614,20)])
  literal.582: bits[1] = literal(value=1, id=582, pos=[(3,1614,30)])
  bit_slice.585: bits[32] = bit_slice(value, start=32, width=32, id=585, pos=[(3,1615,41)])
  bit_slice.587: bits[32] = bit_slice(value, start=0, width=32, id=587, pos=[(3,1615,72)])
  shrl.583: bits[32] = shrl(literal.581, literal.582, id=583, pos=[(3,1614,20)])
  invoke.586: bits[6] = invoke(bit_slice.585, to_apply=__std__clzt_pow2_32, id=586, pos=[(3,1615,35)])
  invoke.588: bits[6] = invoke(bit_slice.587, to_apply=__std__clzt_pow2_32, id=588, pos=[(3,1615,66)])
  N_HALF: bits[32] = zero_ext(shrl.583, new_bit_count=32, id=584)
  ret invoke.589: bits[7] = invoke(invoke.586, invoke.588, to_apply=__std__combine_clzt_halfs__6, id=589, pos=[(3,1615,22)])
}

fn __std__combine_clzt_halfs__7(left: bits[7] id=590, right: bits[7] id=591) -> bits[8] {
  bit_slice.593: bits[1] = bit_slice(left, start=6, width=1, id=593, pos=[(3,1538,15)])
  bit_slice.594: bits[1] = bit_slice(right, start=6, width=1, id=594, pos=[(3,1538,27)])
  tuple.595: (bits[1], bits[1]) = tuple(bit_slice.593, bit_slice.594, id=595, pos=[(3,1538,10)])
  literal.609: bits[1] = literal(value=1, id=609, pos=[(3,1540,9)])
  tuple_index.608: bits[1] = tuple_index(tuple.595, index=0, id=608)
  literal.598: bits[1] = literal(value=1, id=598, pos=[(3,1539,9)])
  tuple_index.597: bits[1] = tuple_index(tuple.595, index=0, id=597)
  literal.607: bits[1] = literal(value=1, id=607)
  eq.610: bits[1] = eq(literal.609, tuple_index.608, id=610)
  literal.613: bits[1] = literal(value=0, id=613, pos=[(3,1540,15)])
  tuple_index.612: bits[1] = tuple_index(tuple.595, index=1, id=612)
  literal.596: bits[1] = literal(value=1, id=596)
  eq.599: bits[1] = eq(literal.598, tuple_index.597, id=599)
  literal.602: bits[1] = literal(value=1, id=602, pos=[(3,1539,15)])
  tuple_index.601: bits[1] = tuple_index(tuple.595, index=1, id=601)
  and.611: bits[1] = and(literal.607, eq.610, id=611)
  eq.614: bits[1] = eq(literal.613, tuple_index.612, id=614)
  and.600: bits[1] = and(literal.596, eq.599, id=600)
  eq.603: bits[1] = eq(literal.602, tuple_index.601, id=603)
  and.615: bits[1] = and(and.611, eq.614, id=615)
  and.604: bits[1] = and(and.600, eq.603, id=604)
  literal.605: bits[1] = literal(value=0, id=605, pos=[(3,1539,32)])
  literal.616: bits[2] = literal(value=1, id=616, pos=[(3,1540,24)])
  bit_slice.617: bits[6] = bit_slice(right, start=0, width=6, id=617, pos=[(3,1540,40)])
  literal.620: bits[1] = literal(value=0, id=620, pos=[(3,1541,13)])
  concat.622: bits[2] = concat(and.615, and.604, id=622)
  concat.606: bits[8] = concat(left, literal.605, id=606, pos=[(3,1539,24)])
  concat.618: bits[8] = concat(literal.616, bit_slice.617, id=618, pos=[(3,1540,24)])
  concat.621: bits[8] = concat(literal.620, left, id=621, pos=[(3,1541,13)])
  N: bits[32] = literal(value=7, id=592, pos=[(3,1537,22)])
  literal.619: bits[1] = literal(value=1, id=619, pos=[(3,1541,8)])
  ret priority_sel.623: bits[8] = priority_sel(concat.622, cases=[concat.606, concat.618], default=concat.621, id=623)
}

fn __std__clzt_pow2_128(value: bits[128] id=624) -> bits[8] {
  literal.625: bits[32] = literal(value=128, id=625, pos=[(3,1619,20)])
  literal.626: bits[1] = literal(value=1, id=626, pos=[(3,1619,31)])
  bit_slice.629: bits[64] = bit_slice(value, start=64, width=64, id=629, pos=[(3,1620,41)])
  bit_slice.631: bits[64] = bit_slice(value, start=0, width=64, id=631, pos=[(3,1620,72)])
  shrl.627: bits[32] = shrl(literal.625, literal.626, id=627, pos=[(3,1619,20)])
  invoke.630: bits[7] = invoke(bit_slice.629, to_apply=__std__clzt_pow2_64, id=630, pos=[(3,1620,35)])
  invoke.632: bits[7] = invoke(bit_slice.631, to_apply=__std__clzt_pow2_64, id=632, pos=[(3,1620,66)])
  N_HALF: bits[32] = zero_ext(shrl.627, new_bit_count=32, id=628)
  ret invoke.633: bits[8] = invoke(invoke.630, invoke.632, to_apply=__std__combine_clzt_halfs__7, id=633, pos=[(3,1620,22)])
}

fn __std__combine_clzt_halfs__8(left: bits[8] id=634, right: bits[8] id=635) -> bits[9] {
  bit_slice.637: bits[1] = bit_slice(left, start=7, width=1, id=637, pos=[(3,1538,15)])
  bit_slice.638: bits[1] = bit_slice(right, start=7, width=1, id=638, pos=[(3,1538,27)])
  tuple.639: (bits[1], bits[1]) = tuple(bit_slice.637, bit_slice.638, id=639, pos=[(3,1538,10)])
  literal.653: bits[1] = literal(value=1, id=653, pos=[(3,1540,9)])
  tuple_index.652: bits[1] = tuple_index(tuple.639, index=0, id=652)
  literal.642: bits[1] = literal(value=1, id=642, pos=[(3,1539,9)])
  tuple_index.641: bits[1] = tuple_index(tuple.639, index=0, id=641)
  literal.651: bits[1] = literal(value=1, id=651)
  eq.654: bits[1] = eq(literal.653, tuple_index.652, id=654)
  literal.657: bits[1] = literal(value=0, id=657, pos=[(3,1540,15)])
  tuple_index.656: bits[1] = tuple_index(tuple.639, index=1, id=656)
  literal.640: bits[1] = literal(value=1, id=640)
  eq.643: bits[1] = eq(literal.642, tuple_index.641, id=643)
  literal.646: bits[1] = literal(value=1, id=646, pos=[(3,1539,15)])
  tuple_index.645: bits[1] = tuple_index(tuple.639, index=1, id=645)
  and.655: bits[1] = and(literal.651, eq.654, id=655)
  eq.658: bits[1] = eq(literal.657, tuple_index.656, id=658)
  and.644: bits[1] = and(literal.640, eq.643, id=644)
  eq.647: bits[1] = eq(literal.646, tuple_index.645, id=647)
  and.659: bits[1] = and(and.655, eq.658, id=659)
  and.648: bits[1] = and(and.644, eq.647, id=648)
  literal.649: bits[1] = literal(value=0, id=649, pos=[(3,1539,32)])
  literal.660: bits[2] = literal(value=1, id=660, pos=[(3,1540,24)])
  bit_slice.661: bits[7] = bit_slice(right, start=0, width=7, id=661, pos=[(3,1540,40)])
  literal.664: bits[1] = literal(value=0, id=664, pos=[(3,1541,13)])
  concat.666: bits[2] = concat(and.659, and.648, id=666)
  concat.650: bits[9] = concat(left, literal.649, id=650, pos=[(3,1539,24)])
  concat.662: bits[9] = concat(literal.660, bit_slice.661, id=662, pos=[(3,1540,24)])
  concat.665: bits[9] = concat(literal.664, left, id=665, pos=[(3,1541,13)])
  N: bits[32] = literal(value=8, id=636, pos=[(3,1537,22)])
  literal.663: bits[1] = literal(value=1, id=663, pos=[(3,1541,8)])
  ret priority_sel.667: bits[9] = priority_sel(concat.666, cases=[concat.650, concat.662], default=concat.665, id=667)
}

fn __std__clzt_pow2_256(value: bits[256] id=668) -> bits[9] {
  literal.669: bits[32] = literal(value=256, id=669, pos=[(3,1624,20)])
  literal.670: bits[1] = literal(value=1, id=670, pos=[(3,1624,31)])
  bit_slice.673: bits[128] = bit_slice(value, start=128, width=128, id=673, pos=[(3,1625,42)])
  bit_slice.675: bits[128] = bit_slice(value, start=0, width=128, id=675, pos=[(3,1625,74)])
  shrl.671: bits[32] = shrl(literal.669, literal.670, id=671, pos=[(3,1624,20)])
  invoke.674: bits[8] = invoke(bit_slice.673, to_apply=__std__clzt_pow2_128, id=674, pos=[(3,1625,36)])
  invoke.676: bits[8] = invoke(bit_slice.675, to_apply=__std__clzt_pow2_128, id=676, pos=[(3,1625,68)])
  N_HALF: bits[32] = zero_ext(shrl.671, new_bit_count=32, id=672)
  ret invoke.677: bits[9] = invoke(invoke.674, invoke.676, to_apply=__std__combine_clzt_halfs__8, id=677, pos=[(3,1625,22)])
}

fn __std__combine_clzt_halfs__9(left: bits[9] id=678, right: bits[9] id=679) -> bits[10] {
  bit_slice.681: bits[1] = bit_slice(left, start=8, width=1, id=681, pos=[(3,1538,15)])
  bit_slice.682: bits[1] = bit_slice(right, start=8, width=1, id=682, pos=[(3,1538,27)])
  tuple.683: (bits[1], bits[1]) = tuple(bit_slice.681, bit_slice.682, id=683, pos=[(3,1538,10)])
  literal.697: bits[1] = literal(value=1, id=697, pos=[(3,1540,9)])
  tuple_index.696: bits[1] = tuple_index(tuple.683, index=0, id=696)
  literal.686: bits[1] = literal(value=1, id=686, pos=[(3,1539,9)])
  tuple_index.685: bits[1] = tuple_index(tuple.683, index=0, id=685)
  literal.695: bits[1] = literal(value=1, id=695)
  eq.698: bits[1] = eq(literal.697, tuple_index.696, id=698)
  literal.701: bits[1] = literal(value=0, id=701, pos=[(3,1540,15)])
  tuple_index.700: bits[1] = tuple_index(tuple.683, index=1, id=700)
  literal.684: bits[1] = literal(value=1, id=684)
  eq.687: bits[1] = eq(literal.686, tuple_index.685, id=687)
  literal.690: bits[1] = literal(value=1, id=690, pos=[(3,1539,15)])
  tuple_index.689: bits[1] = tuple_index(tuple.683, index=1, id=689)
  and.699: bits[1] = and(literal.695, eq.698, id=699)
  eq.702: bits[1] = eq(literal.701, tuple_index.700, id=702)
  and.688: bits[1] = and(literal.684, eq.687, id=688)
  eq.691: bits[1] = eq(literal.690, tuple_index.689, id=691)
  and.703: bits[1] = and(and.699, eq.702, id=703)
  and.692: bits[1] = and(and.688, eq.691, id=692)
  literal.693: bits[1] = literal(value=0, id=693, pos=[(3,1539,32)])
  literal.704: bits[2] = literal(value=1, id=704, pos=[(3,1540,24)])
  bit_slice.705: bits[8] = bit_slice(right, start=0, width=8, id=705, pos=[(3,1540,40)])
  literal.708: bits[1] = literal(value=0, id=708, pos=[(3,1541,13)])
  concat.710: bits[2] = concat(and.703, and.692, id=710)
  concat.694: bits[10] = concat(left, literal.693, id=694, pos=[(3,1539,24)])
  concat.706: bits[10] = concat(literal.704, bit_slice.705, id=706, pos=[(3,1540,24)])
  concat.709: bits[10] = concat(literal.708, left, id=709, pos=[(3,1541,13)])
  N: bits[32] = literal(value=9, id=680, pos=[(3,1537,22)])
  literal.707: bits[1] = literal(value=1, id=707, pos=[(3,1541,8)])
  ret priority_sel.711: bits[10] = priority_sel(concat.710, cases=[concat.694, concat.706], default=concat.709, id=711)
}

fn __std__clzt_pow2_512(value: bits[512] id=712) -> bits[10] {
  literal.713: bits[32] = literal(value=512, id=713, pos=[(3,1629,20)])
  literal.714: bits[1] = literal(value=1, id=714, pos=[(3,1629,31)])
  bit_slice.717: bits[256] = bit_slice(value, start=256, width=256, id=717, pos=[(3,1630,42)])
  bit_slice.719: bits[256] = bit_slice(value, start=0, width=256, id=719, pos=[(3,1630,74)])
  shrl.715: bits[32] = shrl(literal.713, literal.714, id=715, pos=[(3,1629,20)])
  invoke.718: bits[9] = invoke(bit_slice.717, to_apply=__std__clzt_pow2_256, id=718, pos=[(3,1630,36)])
  invoke.720: bits[9] = invoke(bit_slice.719, to_apply=__std__clzt_pow2_256, id=720, pos=[(3,1630,68)])
  N_HALF: bits[32] = zero_ext(shrl.715, new_bit_count=32, id=716)
  ret invoke.721: bits[10] = invoke(invoke.718, invoke.720, to_apply=__std__combine_clzt_halfs__9, id=721, pos=[(3,1630,22)])
}

fn __std__clzt_pow2__32_6(value: bits[32] id=722) -> bits[6] {
  reverse.776: bits[32] = reverse(value, id=776, pos=[(3,1649,16)])
  one_hot.777: bits[33] = one_hot(reverse.776, lsb_prio=true, id=777, pos=[(3,1649,16)])
  literal.770: bits[32] = literal(value=1, id=770, pos=[(3,1648,8)])
  N: bits[32] = literal(value=32, id=723, pos=[(3,1635,17)])
  literal.765: bits[32] = literal(value=2, id=765, pos=[(3,1647,8)])
  literal.760: bits[32] = literal(value=4, id=760, pos=[(3,1646,8)])
  literal.755: bits[32] = literal(value=8, id=755, pos=[(3,1645,8)])
  literal.750: bits[32] = literal(value=16, id=750, pos=[(3,1644,8)])
  literal.745: bits[32] = literal(value=32, id=745, pos=[(3,1643,8)])
  literal.740: bits[32] = literal(value=64, id=740, pos=[(3,1642,8)])
  literal.735: bits[32] = literal(value=128, id=735, pos=[(3,1641,8)])
  literal.730: bits[32] = literal(value=256, id=730, pos=[(3,1640,8)])
  literal.725: bits[32] = literal(value=512, id=725, pos=[(3,1639,8)])
  zero_ext.727: bits[512] = zero_ext(value, new_bit_count=512, id=727)
  zero_ext.732: bits[256] = zero_ext(value, new_bit_count=256, id=732)
  zero_ext.737: bits[128] = zero_ext(value, new_bit_count=128, id=737)
  zero_ext.742: bits[64] = zero_ext(value, new_bit_count=64, id=742)
  zero_ext.747: bits[32] = zero_ext(value, new_bit_count=32, id=747)
  bit_slice.752: bits[16] = bit_slice(value, start=0, width=16, id=752)
  bit_slice.757: bits[8] = bit_slice(value, start=0, width=8, id=757)
  bit_slice.762: bits[4] = bit_slice(value, start=0, width=4, id=762)
  bit_slice.767: bits[2] = bit_slice(value, start=0, width=2, id=767)
  bit_slice.772: bits[1] = bit_slice(value, start=0, width=1, id=772)
  encode.778: bits[6] = encode(one_hot.777, id=778, pos=[(3,1649,16)])
  eq.771: bits[1] = eq(literal.770, N, id=771)
  eq.766: bits[1] = eq(literal.765, N, id=766)
  eq.761: bits[1] = eq(literal.760, N, id=761)
  eq.756: bits[1] = eq(literal.755, N, id=756)
  eq.751: bits[1] = eq(literal.750, N, id=751)
  eq.746: bits[1] = eq(literal.745, N, id=746)
  eq.741: bits[1] = eq(literal.740, N, id=741)
  eq.736: bits[1] = eq(literal.735, N, id=736)
  eq.731: bits[1] = eq(literal.730, N, id=731)
  eq.726: bits[1] = eq(literal.725, N, id=726)
  invoke.728: bits[10] = invoke(zero_ext.727, to_apply=__std__clzt_pow2_512, id=728, pos=[(3,1639,32)])
  invoke.733: bits[9] = invoke(zero_ext.732, to_apply=__std__clzt_pow2_256, id=733, pos=[(3,1640,32)])
  invoke.738: bits[8] = invoke(zero_ext.737, to_apply=__std__clzt_pow2_128, id=738, pos=[(3,1641,32)])
  invoke.743: bits[7] = invoke(zero_ext.742, to_apply=__std__clzt_pow2_64, id=743, pos=[(3,1642,30)])
  invoke.748: bits[6] = invoke(zero_ext.747, to_apply=__std__clzt_pow2_32, id=748, pos=[(3,1643,30)])
  invoke.753: bits[5] = invoke(bit_slice.752, to_apply=__std__clzt_pow2_16, id=753, pos=[(3,1644,30)])
  invoke.758: bits[4] = invoke(bit_slice.757, to_apply=__std__clzt_pow2_8, id=758, pos=[(3,1645,28)])
  invoke.763: bits[3] = invoke(bit_slice.762, to_apply=__std__clzt_pow2_4, id=763, pos=[(3,1646,28)])
  invoke.768: bits[2] = invoke(bit_slice.767, to_apply=__std__clzt_pow2_2, id=768, pos=[(3,1647,28)])
  invoke.773: bits[1] = invoke(bit_slice.772, to_apply=__std__clzt_pow2_1, id=773, pos=[(3,1648,28)])
  zero_ext.779: bits[32] = zero_ext(encode.778, new_bit_count=32, id=779, pos=[(3,1649,16)])
  concat.781: bits[10] = concat(eq.771, eq.766, eq.761, eq.756, eq.751, eq.746, eq.741, eq.736, eq.731, eq.726, id=781)
  bit_slice.729: bits[6] = bit_slice(invoke.728, start=0, width=6, id=729)
  bit_slice.734: bits[6] = bit_slice(invoke.733, start=0, width=6, id=734)
  bit_slice.739: bits[6] = bit_slice(invoke.738, start=0, width=6, id=739)
  bit_slice.744: bits[6] = bit_slice(invoke.743, start=0, width=6, id=744)
  zero_ext.749: bits[6] = zero_ext(invoke.748, new_bit_count=6, id=749)
  zero_ext.754: bits[6] = zero_ext(invoke.753, new_bit_count=6, id=754)
  zero_ext.759: bits[6] = zero_ext(invoke.758, new_bit_count=6, id=759)
  zero_ext.764: bits[6] = zero_ext(invoke.763, new_bit_count=6, id=764)
  zero_ext.769: bits[6] = zero_ext(invoke.768, new_bit_count=6, id=769)
  zero_ext.774: bits[6] = zero_ext(invoke.773, new_bit_count=6, id=774)
  bit_slice.780: bits[6] = bit_slice(zero_ext.779, start=0, width=6, id=780)
  RESULT_BITS: bits[32] = literal(value=6, id=724, pos=[(3,1635,25)])
  literal.775: bits[1] = literal(value=1, id=775, pos=[(3,1649,8)])
  ret priority_sel.782: bits[6] = priority_sel(concat.781, cases=[bit_slice.729, bit_slice.734, bit_slice.739, bit_slice.744, zero_ext.749, zero_ext.754, zero_ext.759, zero_ext.764, zero_ext.769, zero_ext.774], default=bit_slice.780, id=782)
}

fn __std__clzt__28_5(value: bits[28] id=783) -> bits[5] {
  invoke.788: bits[4] = invoke(to_apply=__std__mask_bits__4, id=788, pos=[(3,1707,32)])
  N: bits[32] = literal(value=28, id=784, pos=[(3,1704,12)])
  concat.789: bits[32] = concat(value, invoke.788, id=789, pos=[(3,1707,14)])
  invoke.786: bits[32] = invoke(N, to_apply=__std__next_pow2, id=786, pos=[(3,1705,50)])
  invoke.790: bits[6] = invoke(concat.789, to_apply=__std__clzt_pow2__32_6, id=790, pos=[(3,1707,13)])
  RESULT_BITS: bits[32] = literal(value=5, id=785, pos=[(3,1704,20)])
  BITS_MISSING_UNTIL_POWER_TWO: bits[32] = sub(invoke.786, N, id=787, pos=[(3,1705,50)])
  ret bit_slice.791: bits[5] = bit_slice(invoke.790, start=0, width=5, id=791)
}

fn __apfloat__add__8_23(a: (bits[1], bits[8], bits[23]) id=792, b: (bits[1], bits[8], bits[23]) id=793) -> (bits[1], bits[8], bits[23]) {
  a_bexp: bits[8] = tuple_index(a, index=1, id=810, pos=[(0,3091,59)])
  b_bexp: bits[8] = tuple_index(b, index=1, id=811, pos=[(0,3091,67)])
  invoke.812: (bits[1], bits[8]) = invoke(a_bexp, b_bexp, to_apply=__apfloat__sign_magnitude_difference__8, id=812, pos=[(0,3091,57)])
  a_is_smaller: bits[1] = tuple_index(invoke.812, index=0, id=813, pos=[(0,3091,9)])
  tuple.816: ((bits[1], bits[8], bits[23]), (bits[1], bits[8], bits[23])) = tuple(a, b, id=816, pos=[(0,3092,51)])
  tuple.815: ((bits[1], bits[8], bits[23]), (bits[1], bits[8], bits[23])) = tuple(b, a, id=815, pos=[(0,3092,35)])
  sel.817: ((bits[1], bits[8], bits[23]), (bits[1], bits[8], bits[23])) = sel(a_is_smaller, cases=[tuple.816, tuple.815], id=817, pos=[(0,3092,17)])
  x: (bits[1], bits[8], bits[23]) = tuple_index(sel.817, index=0, id=818, pos=[(0,3092,9)])
  y: (bits[1], bits[8], bits[23]) = tuple_index(sel.817, index=1, id=819, pos=[(0,3092,12)])
  literal.820: bits[1] = literal(value=1, id=820, pos=[(0,3095,22)])
  x_fraction: bits[23] = tuple_index(x, index=2, id=821, pos=[(0,3095,31)])
  literal.824: bits[1] = literal(value=1, id=824, pos=[(0,3096,22)])
  y_fraction: bits[23] = tuple_index(y, index=2, id=825, pos=[(0,3096,31)])
  x_bexp: bits[8] = tuple_index(x, index=1, id=828, pos=[(0,3099,25)])
  literal.829: bits[8] = literal(value=0, id=829, pos=[(0,3099,34)])
  concat.822: bits[24] = concat(literal.820, x_fraction, id=822, pos=[(0,3095,22)])
  y_bexp: bits[8] = tuple_index(y, index=1, id=833, pos=[(0,3100,25)])
  literal.834: bits[8] = literal(value=0, id=834, pos=[(0,3100,34)])
  concat.826: bits[24] = concat(literal.824, y_fraction, id=826, pos=[(0,3096,22)])
  eq.830: bits[1] = eq(x_bexp, literal.829, id=830, pos=[(0,3099,25)])
  fraction_x: bits[24] = zero_ext(concat.822, new_bit_count=24, id=823)
  literal.831: bits[24] = literal(value=0, id=831, pos=[(0,3099,49)])
  eq.835: bits[1] = eq(y_bexp, literal.834, id=835, pos=[(0,3100,25)])
  fraction_y: bits[24] = zero_ext(concat.826, new_bit_count=24, id=827)
  literal.836: bits[24] = literal(value=0, id=836, pos=[(0,3100,49)])
  fraction_x__1: bits[24] = sel(eq.830, cases=[fraction_x, literal.831], id=832, pos=[(0,3099,21)])
  fraction_y__1: bits[24] = sel(eq.835, cases=[fraction_y, literal.836], id=837, pos=[(0,3100,21)])
  zero_ext.838: bits[28] = zero_ext(fraction_x__1, new_bit_count=28, id=838)
  GUARD_ROUND_STICKY_BITS: bits[32] = literal(value=3, id=802, pos=[(0,3079,36)])
  zero_ext.840: bits[28] = zero_ext(fraction_y__1, new_bit_count=28, id=840)
  wide_x: bits[28] = shll(zero_ext.838, GUARD_ROUND_STICKY_BITS, id=839, pos=[(0,3103,17)])
  wide_y: bits[28] = shll(zero_ext.840, GUARD_ROUND_STICKY_BITS, id=841, pos=[(0,3104,17)])
  shift: bits[8] = tuple_index(invoke.812, index=1, id=814, pos=[(0,3091,23)])
  x_sign: bits[1] = tuple_index(x, index=0, id=843, pos=[(0,3110,23)])
  y_sign: bits[1] = tuple_index(y, index=0, id=844, pos=[(0,3110,33)])
  addend_x: bits[28] = zero_ext(wide_x, new_bit_count=28, id=842)
  shrl.849: bits[28] = shrl(wide_y, shift, id=849, pos=[(0,3116,31)])
  sticky: bits[1] = invoke(wide_y, shift, to_apply=__std__or_reduce_lsb__8_28, id=848, pos=[(0,3115,35)])
  ne.845: bits[1] = ne(x_sign, y_sign, id=845, pos=[(0,3110,23)])
  neg.846: bits[28] = neg(addend_x, id=846, pos=[(0,3110,41)])
  invoke.850: bits[28] = invoke(shrl.849, sticky, to_apply=__apfloat__or_last_bit__28, id=850, pos=[(0,3116,30)])
  addend_x__1: bits[28] = sel(ne.845, cases=[addend_x, neg.846], id=847, pos=[(0,3110,19)])
  addend_y: bits[28] = zero_ext(invoke.850, new_bit_count=28, id=851)
  sign_ext.852: bits[29] = sign_ext(addend_x__1, new_bit_count=29, id=852)
  sign_ext.853: bits[29] = sign_ext(addend_y, new_bit_count=29, id=853)
  fraction: bits[29] = add(sign_ext.852, sign_ext.853, id=854, pos=[(0,3120,20)])
  literal.886: bits[29] = literal(value=0, id=886, pos=[(0,3130,23)])
  slt.887: bits[1] = slt(fraction, literal.886, id=887, pos=[(0,3130,12)])
  neg.888: bits[29] = neg(fraction, id=888, pos=[(0,3130,46)])
  sel.889: bits[29] = sel(slt.887, cases=[fraction, neg.888], id=889, pos=[(0,3130,9)])
  abs_fraction: bits[28] = bit_slice(sel.889, start=0, width=28, id=890)
  zero_ext.898: bits[29] = zero_ext(abs_fraction, new_bit_count=29, id=898)
  leading_zeroes: bits[5] = invoke(abs_fraction, to_apply=__std__clzt__28_5, id=897, pos=[(0,3141,34)])
  literal.892: bits[32] = literal(value=1, id=892, pos=[(0,3136,42)])
  cancel_fraction: bits[29] = shll(zero_ext.898, leading_zeroes, id=899, pos=[(0,3144,26)])
  literal.900: bits[32] = literal(value=1, id=900, pos=[(0,3145,46)])
  shrl.893: bits[28] = shrl(abs_fraction, literal.892, id=893, pos=[(0,3136,26)])
  shrl.901: bits[29] = shrl(cancel_fraction, literal.900, id=901, pos=[(0,3145,27)])
  carry_fraction: bits[27] = bit_slice(shrl.893, start=0, width=27, id=894)
  bit_slice.895: bits[1] = bit_slice(abs_fraction, start=0, width=1, id=895, pos=[(0,3137,65)])
  carry_bit: bits[1] = bit_slice(abs_fraction, start=27, width=1, id=891, pos=[(0,3135,32)])
  cancel_fraction__1: bits[27] = bit_slice(shrl.901, start=0, width=27, id=902)
  carry_fraction__1: bits[27] = invoke(carry_fraction, bit_slice.895, to_apply=__apfloat__or_last_bit__27, id=896, pos=[(0,3137,36)])
  shifted_fraction: bits[27] = sel(carry_bit, cases=[cancel_fraction__1, carry_fraction__1], id=903, pos=[(0,3146,27)])
  normal_chunk: bits[3] = bit_slice(shifted_fraction, start=0, width=3, id=904, pos=[(0,3158,39)])
  literal.906: bits[3] = literal(value=4, id=906, pos=[(0,3160,38)])
  half_way_chunk: bits[2] = bit_slice(shifted_fraction, start=2, width=2, id=905, pos=[(0,3159,41)])
  literal.908: bits[2] = literal(value=3, id=908, pos=[(0,3160,68)])
  ugt.907: bits[1] = ugt(normal_chunk, literal.906, id=907, pos=[(0,3160,23)])
  eq.909: bits[1] = eq(half_way_chunk, literal.908, id=909, pos=[(0,3160,50)])
  zero_ext.911: bits[28] = zero_ext(shifted_fraction, new_bit_count=28, id=911)
  literal.912: bits[28] = literal(value=8, id=912, pos=[(0,3164,50)])
  do_round_up: bits[1] = or(ugt.907, eq.909, id=910, pos=[(0,3160,23)])
  zero_ext.914: bits[28] = zero_ext(shifted_fraction, new_bit_count=28, id=914)
  add.913: bits[28] = add(zero_ext.911, literal.912, id=913, pos=[(0,3164,9)])
  rounded_fraction: bits[28] = sel(do_round_up, cases=[zero_ext.914, add.913], id=915, pos=[(0,3163,27)])
  x_bexp__1: bits[8] = tuple_index(x, index=1, id=925, pos=[(0,3179,26)])
  rounding_carry: bits[1] = bit_slice(rounded_fraction, start=27, width=1, id=916, pos=[(0,3168,41)])
  zero_ext.926: bits[10] = zero_ext(x_bexp__1, new_bit_count=10, id=926)
  zero_ext.927: bits[10] = zero_ext(rounding_carry, new_bit_count=10, id=927)
  add.928: bits[10] = add(zero_ext.926, zero_ext.927, id=928, pos=[(0,3179,26)])
  literal.929: bits[10] = literal(value=1, id=929, pos=[(0,3180,24)])
  literal.855: bits[29] = literal(value=0, id=855, pos=[(0,3121,39)])
  literal.857: bits[29] = literal(value=0, id=857, pos=[(0,3122,58)])
  add.930: bits[10] = add(add.928, literal.929, id=930, pos=[(0,3179,26)])
  zero_ext.931: bits[10] = zero_ext(leading_zeroes, new_bit_count=10, id=931)
  fraction_is_zero: bits[1] = eq(fraction, literal.855, id=856, pos=[(0,3121,27)])
  slt.858: bits[1] = slt(fraction, literal.857, id=858, pos=[(0,3122,47)])
  wide_exponent: bits[10] = sub(add.930, zero_ext.931, id=932, pos=[(0,3179,26)])
  literal.933: bits[10] = literal(value=0, id=933, pos=[(0,3181,46)])
  bit_slice.918: bits[1] = bit_slice(rounded_fraction, start=27, width=1, id=918, pos=[(0,3174,60)])
  literal.920: bits[3] = literal(value=0, id=920, pos=[(0,3174,82)])
  literal.919: bits[3] = literal(value=1, id=919, pos=[(0,3174,68)])
  tuple.859: (bits[1], bits[1]) = tuple(fraction_is_zero, slt.858, id=859, pos=[(0,3122,28)])
  wide_exponent__1: bits[10] = sel(fraction_is_zero, cases=[wide_exponent, literal.933], id=934, pos=[(0,3181,24)])
  literal.935: bits[10] = literal(value=0, id=935, pos=[(0,3184,43)])
  bit_slice.917: bits[3] = bit_slice(GUARD_ROUND_STICKY_BITS, start=0, width=3, id=917)
  sel.921: bits[3] = sel(bit_slice.918, cases=[literal.920, literal.919], id=921, pos=[(0,3174,41)])
  literal.873: bits[1] = literal(value=0, id=873, pos=[(0,3124,9)])
  tuple_index.872: bits[1] = tuple_index(tuple.859, index=0, id=872)
  literal.862: bits[1] = literal(value=1, id=862, pos=[(0,3123,9)])
  tuple_index.861: bits[1] = tuple_index(tuple.859, index=0, id=861)
  x_sign__2: bits[1] = tuple_index(x, index=0, id=959, pos=[(0,3209,59)])
  literal.960: bits[1] = literal(value=0, id=960, pos=[(0,3209,68)])
  y_sign__4: bits[1] = tuple_index(y, index=0, id=964, pos=[(0,3210,59)])
  literal.965: bits[1] = literal(value=0, id=965, pos=[(0,3210,68)])
  x_sign__3: bits[1] = tuple_index(x, index=0, id=972, pos=[(0,3215,59)])
  literal.973: bits[1] = literal(value=1, id=973, pos=[(0,3215,68)])
  y_sign__5: bits[1] = tuple_index(y, index=0, id=977, pos=[(0,3216,59)])
  literal.978: bits[1] = literal(value=1, id=978, pos=[(0,3216,68)])
  slt.936: bits[1] = slt(wide_exponent__1, literal.935, id=936, pos=[(0,3184,27)])
  bit_slice.938: bits[9] = bit_slice(wide_exponent__1, start=0, width=9, id=938)
  literal.937: bits[9] = literal(value=0, id=937, pos=[(0,3185,8)])
  fraction_shift: bits[3] = add(bit_slice.917, sel.921, id=922, pos=[(0,3174,8)])
  literal.871: bits[1] = literal(value=1, id=871)
  eq.874: bits[1] = eq(literal.873, tuple_index.872, id=874)
  literal.877: bits[1] = literal(value=1, id=877, pos=[(0,3124,16)])
  tuple_index.876: bits[1] = tuple_index(tuple.859, index=1, id=876)
  literal.860: bits[1] = literal(value=1, id=860)
  eq.863: bits[1] = eq(literal.862, tuple_index.861, id=863)
  invoke.958: bits[1] = invoke(x, to_apply=__apfloat__is_inf__8_23, id=958, pos=[(0,3209,29)])
  eq.961: bits[1] = eq(x_sign__2, literal.960, id=961, pos=[(0,3209,59)])
  invoke.963: bits[1] = invoke(y, to_apply=__apfloat__is_inf__8_23, id=963, pos=[(0,3210,29)])
  eq.966: bits[1] = eq(y_sign__4, literal.965, id=966, pos=[(0,3210,59)])
  invoke.971: bits[1] = invoke(x, to_apply=__apfloat__is_inf__8_23, id=971, pos=[(0,3215,29)])
  eq.974: bits[1] = eq(x_sign__3, literal.973, id=974, pos=[(0,3215,59)])
  invoke.976: bits[1] = invoke(y, to_apply=__apfloat__is_inf__8_23, id=976, pos=[(0,3216,29)])
  eq.979: bits[1] = eq(y_sign__5, literal.978, id=979, pos=[(0,3216,59)])
  MAX_EXPONENT: bits[8] = invoke(to_apply=__std__mask_bits__8, id=944, pos=[(0,3197,39)])
  wide_exponent__2: bits[9] = sel(slt.936, cases=[bit_slice.938, literal.937], id=939, pos=[(0,3184,24)])
  literal.940: bits[9] = literal(value=1, id=940, pos=[(0,3194,27)])
  shrl.923: bits[28] = shrl(rounded_fraction, fraction_shift, id=923, pos=[(0,3175,27)])
  and.875: bits[1] = and(literal.871, eq.874, id=875)
  eq.878: bits[1] = eq(literal.877, tuple_index.876, id=878)
  and.864: bits[1] = and(literal.860, eq.863, id=864)
  literal.866: bits[1] = literal(value=1, id=866, pos=[(0,3123,15)])
  and.962: bits[1] = and(invoke.958, eq.961, id=962, pos=[(0,3209,29)])
  and.967: bits[1] = and(invoke.963, eq.966, id=967, pos=[(0,3210,29)])
  and.975: bits[1] = and(invoke.971, eq.974, id=975, pos=[(0,3215,29)])
  and.980: bits[1] = and(invoke.976, eq.979, id=980, pos=[(0,3216,29)])
  SATURATED_EXPONENT: bits[9] = zero_ext(MAX_EXPONENT, new_bit_count=9, id=945)
  ult.941: bits[1] = ult(wide_exponent__2, literal.940, id=941, pos=[(0,3194,11)])
  result_fraction: bits[23] = bit_slice(shrl.923, start=0, width=23, id=924)
  literal.942: bits[23] = literal(value=0, id=942, pos=[(0,3194,44)])
  and.879: bits[1] = and(and.875, eq.878, id=879)
  and.867: bits[1] = and(and.864, literal.866, id=867)
  x_sign__1: bits[1] = tuple_index(x, index=0, id=868, pos=[(0,3123,22)])
  y_sign__1: bits[1] = tuple_index(y, index=0, id=869, pos=[(0,3123,32)])
  y_sign__2: bits[1] = tuple_index(y, index=0, id=880, pos=[(0,3124,27)])
  invoke.982: bits[1] = invoke(x, to_apply=__apfloat__is_nan__8_23, id=982, pos=[(0,3217,30)])
  invoke.983: bits[1] = invoke(y, to_apply=__apfloat__is_nan__8_23, id=983, pos=[(0,3217,64)])
  has_pos_inf: bits[1] = or(and.962, and.967, id=968, pos=[(0,3209,29)])
  has_neg_inf: bits[1] = or(and.975, and.980, id=981, pos=[(0,3215,29)])
  invoke.952: bits[1] = invoke(x, to_apply=__apfloat__is_inf__8_23, id=952, pos=[(0,3205,31)])
  invoke.953: bits[1] = invoke(y, to_apply=__apfloat__is_inf__8_23, id=953, pos=[(0,3205,65)])
  ult.946: bits[1] = ult(wide_exponent__2, SATURATED_EXPONENT, id=946, pos=[(0,3200,11)])
  literal.947: bits[23] = literal(value=0, id=947, pos=[(0,3200,73)])
  result_fraction__1: bits[23] = sel(ult.941, cases=[result_fraction, literal.942], id=943, pos=[(0,3194,8)])
  FRACTION_SZ: bits[32] = literal(value=23, id=795, pos=[(0,3067,24)])
  literal.988: bits[32] = literal(value=1, id=988, pos=[(0,3219,66)])
  HIDDEN_BIT: bits[32] = literal(value=1, id=801, pos=[(0,3078,23)])
  concat.884: bits[2] = concat(and.879, and.867, id=884)
  and.870: bits[1] = and(x_sign__1, y_sign__1, id=870, pos=[(0,3123,22)])
  not.881: bits[1] = not(y_sign__2, id=881, pos=[(0,3124,25)])
  y_sign__3: bits[1] = tuple_index(y, index=0, id=883, pos=[(0,3125,14)])
  ult.949: bits[1] = ult(wide_exponent__2, SATURATED_EXPONENT, id=949, pos=[(0,3202,11)])
  bit_slice.950: bits[8] = bit_slice(wide_exponent__2, start=0, width=8, id=950)
  or.984: bits[1] = or(invoke.982, invoke.983, id=984, pos=[(0,3217,30)])
  and.985: bits[1] = and(has_pos_inf, has_neg_inf, id=985, pos=[(0,3218,25)])
  is_operand_inf: bits[1] = or(invoke.952, invoke.953, id=954, pos=[(0,3205,31)])
  result_fraction__2: bits[23] = sel(ult.946, cases=[literal.947, result_fraction__1], id=948, pos=[(0,3200,8)])
  literal.956: bits[23] = literal(value=0, id=956, pos=[(0,3207,46)])
  literal.987: bits[23] = literal(value=1, id=987, pos=[(0,3219,30)])
  sub.989: bits[32] = sub(FRACTION_SZ, literal.988, id=989, pos=[(0,3219,52)])
  SIGN_BIT: bits[32] = literal(value=1, id=800, pos=[(0,3077,21)])
  FRACTION: bits[32] = add(HIDDEN_BIT, FRACTION_SZ, id=803, pos=[(0,3080,21)])
  result_sign: bits[1] = priority_sel(concat.884, cases=[and.870, not.881], default=y_sign__3, id=885)
  not.969: bits[1] = not(has_pos_inf, id=969, pos=[(0,3211,42)])
  result_exponent: bits[8] = sel(ult.949, cases=[MAX_EXPONENT, bit_slice.950], id=951, pos=[(0,3202,8)])
  is_result_nan: bits[1] = or(or.984, and.985, id=986, pos=[(0,3217,30)])
  result_fraction__3: bits[23] = sel(is_operand_inf, cases=[result_fraction__2, literal.956], id=957, pos=[(0,3207,26)])
  FRACTION_HIGH_BIT: bits[23] = shll(literal.987, sub.989, id=990, pos=[(0,3219,30)])
  EXP_SZ: bits[32] = literal(value=8, id=794, pos=[(0,3067,11)])
  literal.796: bits[32] = literal(value=1, id=796, pos=[(0,3071,35)])
  SIGNED_FRACTION: bits[32] = add(SIGN_BIT, FRACTION, id=804, pos=[(0,3081,28)])
  result_sign__1: bits[1] = sel(is_operand_inf, cases=[result_sign, not.969], id=970, pos=[(0,3211,22)])
  literal.993: bits[1] = literal(value=0, id=993, pos=[(0,3222,41)])
  result_exponent__1: bits[8] = sel(is_operand_inf, cases=[result_exponent, MAX_EXPONENT], id=955, pos=[(0,3206,26)])
  result_fraction__4: bits[23] = sel(is_result_nan, cases=[result_fraction__3, FRACTION_HIGH_BIT], id=992, pos=[(0,3221,26)])
  literal.798: bits[32] = literal(value=1, id=798, pos=[(0,3073,27)])
  WIDE_EXP: bits[32] = add(EXP_SZ, literal.796, id=797, pos=[(0,3071,26)])
  literal.806: bits[32] = literal(value=1, id=806, pos=[(0,3084,32)])
  WIDE_FRACTION: bits[32] = add(SIGNED_FRACTION, GUARD_ROUND_STICKY_BITS, id=805, pos=[(0,3082,31)])
  literal.808: bits[32] = literal(value=1, id=808, pos=[(0,3088,53)])
  result_sign__2: bits[1] = sel(is_result_nan, cases=[result_sign__1, literal.993], id=994, pos=[(0,3222,22)])
  result_exponent__2: bits[8] = sel(is_result_nan, cases=[result_exponent__1, MAX_EXPONENT], id=991, pos=[(0,3220,26)])
  zero_ext.995: bits[23] = zero_ext(result_fraction__4, new_bit_count=23, id=995)
  CARRY_EXP: bits[32] = add(literal.798, WIDE_EXP, id=799, pos=[(0,3073,27)])
  CARRY_FRACTION: bits[32] = add(literal.806, WIDE_FRACTION, id=807, pos=[(0,3084,32)])
  NORMALIZED_FRACTION: bits[32] = sub(WIDE_FRACTION, literal.808, id=809, pos=[(0,3088,37)])
  tuple_index.865: bits[1] = tuple_index(tuple.859, index=1, id=865)
  literal.882: bits[1] = literal(value=1, id=882, pos=[(0,3125,8)])
  ret tuple.996: (bits[1], bits[8], bits[23]) = tuple(result_sign__2, result_exponent__2, zero_ext.995, id=996, pos=[(0,3225,33)])
}

fn __float32__add(x: (bits[1], bits[8], bits[23]) id=997, y: (bits[1], bits[8], bits[23]) id=998) -> (bits[1], bits[8], bits[23]) {
  ret invoke.999: (bits[1], bits[8], bits[23]) = invoke(x, y, to_apply=__apfloat__add__8_23, id=999, pos=[(1,363,48)])
}

proc __systolic__SystolicArray__PE_0_next(__state: ((bits[1], bits[8], bits[23]), bits[32]), init={((0, 0, 0), 0)}) {
  after_all.1161: token = after_all(id=1161)
  literal.1158: bits[1] = literal(value=1, id=1158)
  receive.1162: (token, (bits[1], bits[8], bits[23])) = receive(after_all.1161, predicate=literal.1158, channel=systolic__hor_chans__0_0, id=1162)
  tok: token = tuple_index(receive.1162, index=0, id=1164, pos=[(2,23,9)])
  receive.1166: (token, (bits[1], bits[8], bits[23])) = receive(tok, predicate=literal.1158, channel=systolic__vert_chans__0_0, id=1166)
  __state: ((bits[1], bits[8], bits[23]), bits[32]) = state_read(state_element=__state, id=1157)
  a: (bits[1], bits[8], bits[23]) = tuple_index(receive.1162, index=1, id=1165, pos=[(2,23,14)])
  b: (bits[1], bits[8], bits[23]) = tuple_index(receive.1166, index=1, id=1169, pos=[(2,24,14)])
  k: bits[32] = tuple_index(__state, index=1, id=1160, pos=[(2,22,16)])
  literal.1174: bits[32] = literal(value=1, id=1174, pos=[(2,29,20)])
  accum: (bits[1], bits[8], bits[23]) = tuple_index(__state, index=0, id=1159, pos=[(2,22,9)])
  prod: (bits[1], bits[8], bits[23]) = invoke(a, b, to_apply=__float32__mul, id=1170, pos=[(2,25,27)])
  literal.1180: bits[1] = literal(value=0, id=1180, pos=[(2,33,21)])
  tok__1: token = tuple_index(receive.1166, index=0, id=1168, pos=[(2,24,9)])
  new_k: bits[32] = add(k, literal.1174, id=1175, pos=[(2,29,16)])
  literal.1176: bits[32] = literal(value=2, id=1176, pos=[(2,30,33)])
  new_accum: (bits[1], bits[8], bits[23]) = invoke(accum, prod, to_apply=__float32__add, id=1171, pos=[(2,26,32)])
  invoke.1181: (bits[1], bits[8], bits[23]) = invoke(literal.1180, to_apply=__float32__zero, id=1181, pos=[(2,33,20)])
  literal.1182: bits[32] = literal(value=0, id=1182, pos=[(2,33,28)])
  tok__2: token = send(tok__1, a, predicate=literal.1158, channel=systolic__hor_chans__0_1, id=1172)
  should_output: bits[1] = eq(new_k, literal.1176, id=1177, pos=[(2,30,24)])
  tuple.1184: ((bits[1], bits[8], bits[23]), bits[32]) = tuple(new_accum, new_k, id=1184, pos=[(2,35,6)])
  tuple.1183: ((bits[1], bits[8], bits[23]), bits[32]) = tuple(invoke.1181, literal.1182, id=1183, pos=[(2,33,6)])
  tok__3: token = send(tok__2, b, predicate=literal.1158, channel=systolic__vert_chans__1_0, id=1173)
  and.1178: bits[1] = and(literal.1158, should_output, id=1178)
  new_state: ((bits[1], bits[8], bits[23]), bits[32]) = sel(should_output, cases=[tuple.1184, tuple.1183], id=1185, pos=[(2,32,20)])
  __token: token = literal(value=token, id=1156)
  tuple_index.1163: token = tuple_index(receive.1162, index=0, id=1163)
  tuple_index.1167: token = tuple_index(receive.1166, index=0, id=1167)
  tok__4: token = send(tok__3, new_accum, predicate=and.1178, channel=systolic__result_chans__0_0, id=1179)
  next_value.1186: () = next_value(param=__state, value=new_state, id=1186)
}

proc __systolic__SystolicArray__PE_1_next(__state: ((bits[1], bits[8], bits[23]), bits[32]), init={((0, 0, 0), 0)}) {
  after_all.1192: token = after_all(id=1192)
  literal.1189: bits[1] = literal(value=1, id=1189)
  receive.1193: (token, (bits[1], bits[8], bits[23])) = receive(after_all.1192, predicate=literal.1189, channel=systolic__hor_chans__0_1, id=1193)
  tok: token = tuple_index(receive.1193, index=0, id=1195, pos=[(2,23,9)])
  receive.1197: (token, (bits[1], bits[8], bits[23])) = receive(tok, predicate=literal.1189, channel=systolic__vert_chans__0_1, id=1197)
  __state: ((bits[1], bits[8], bits[23]), bits[32]) = state_read(state_element=__state, id=1188)
  a: (bits[1], bits[8], bits[23]) = tuple_index(receive.1193, index=1, id=1196, pos=[(2,23,14)])
  b: (bits[1], bits[8], bits[23]) = tuple_index(receive.1197, index=1, id=1200, pos=[(2,24,14)])
  k: bits[32] = tuple_index(__state, index=1, id=1191, pos=[(2,22,16)])
  literal.1205: bits[32] = literal(value=1, id=1205, pos=[(2,29,20)])
  accum: (bits[1], bits[8], bits[23]) = tuple_index(__state, index=0, id=1190, pos=[(2,22,9)])
  prod: (bits[1], bits[8], bits[23]) = invoke(a, b, to_apply=__float32__mul, id=1201, pos=[(2,25,27)])
  literal.1211: bits[1] = literal(value=0, id=1211, pos=[(2,33,21)])
  tok__1: token = tuple_index(receive.1197, index=0, id=1199, pos=[(2,24,9)])
  new_k: bits[32] = add(k, literal.1205, id=1206, pos=[(2,29,16)])
  literal.1207: bits[32] = literal(value=2, id=1207, pos=[(2,30,33)])
  new_accum: (bits[1], bits[8], bits[23]) = invoke(accum, prod, to_apply=__float32__add, id=1202, pos=[(2,26,32)])
  invoke.1212: (bits[1], bits[8], bits[23]) = invoke(literal.1211, to_apply=__float32__zero, id=1212, pos=[(2,33,20)])
  literal.1213: bits[32] = literal(value=0, id=1213, pos=[(2,33,28)])
  tok__2: token = send(tok__1, a, predicate=literal.1189, channel=systolic__hor_chans__0_2, id=1203)
  should_output: bits[1] = eq(new_k, literal.1207, id=1208, pos=[(2,30,24)])
  tuple.1215: ((bits[1], bits[8], bits[23]), bits[32]) = tuple(new_accum, new_k, id=1215, pos=[(2,35,6)])
  tuple.1214: ((bits[1], bits[8], bits[23]), bits[32]) = tuple(invoke.1212, literal.1213, id=1214, pos=[(2,33,6)])
  tok__3: token = send(tok__2, b, predicate=literal.1189, channel=systolic__vert_chans__1_1, id=1204)
  and.1209: bits[1] = and(literal.1189, should_output, id=1209)
  new_state: ((bits[1], bits[8], bits[23]), bits[32]) = sel(should_output, cases=[tuple.1215, tuple.1214], id=1216, pos=[(2,32,20)])
  __token: token = literal(value=token, id=1187)
  tuple_index.1194: token = tuple_index(receive.1193, index=0, id=1194)
  tuple_index.1198: token = tuple_index(receive.1197, index=0, id=1198)
  tok__4: token = send(tok__3, new_accum, predicate=and.1209, channel=systolic__result_chans__0_1, id=1210)
  next_value.1217: () = next_value(param=__state, value=new_state, id=1217)
}

proc __systolic__SystolicArray__PE_2_next(__state: ((bits[1], bits[8], bits[23]), bits[32]), init={((0, 0, 0), 0)}) {
  after_all.1223: token = after_all(id=1223)
  literal.1220: bits[1] = literal(value=1, id=1220)
  receive.1224: (token, (bits[1], bits[8], bits[23])) = receive(after_all.1223, predicate=literal.1220, channel=systolic__hor_chans__1_0, id=1224)
  tok: token = tuple_index(receive.1224, index=0, id=1226, pos=[(2,23,9)])
  receive.1228: (token, (bits[1], bits[8], bits[23])) = receive(tok, predicate=literal.1220, channel=systolic__vert_chans__1_0, id=1228)
  __state: ((bits[1], bits[8], bits[23]), bits[32]) = state_read(state_element=__state, id=1219)
  a: (bits[1], bits[8], bits[23]) = tuple_index(receive.1224, index=1, id=1227, pos=[(2,23,14)])
  b: (bits[1], bits[8], bits[23]) = tuple_index(receive.1228, index=1, id=1231, pos=[(2,24,14)])
  k: bits[32] = tuple_index(__state, index=1, id=1222, pos=[(2,22,16)])
  literal.1236: bits[32] = literal(value=1, id=1236, pos=[(2,29,20)])
  accum: (bits[1], bits[8], bits[23]) = tuple_index(__state, index=0, id=1221, pos=[(2,22,9)])
  prod: (bits[1], bits[8], bits[23]) = invoke(a, b, to_apply=__float32__mul, id=1232, pos=[(2,25,27)])
  literal.1242: bits[1] = literal(value=0, id=1242, pos=[(2,33,21)])
  tok__1: token = tuple_index(receive.1228, index=0, id=1230, pos=[(2,24,9)])
  new_k: bits[32] = add(k, literal.1236, id=1237, pos=[(2,29,16)])
  literal.1238: bits[32] = literal(value=2, id=1238, pos=[(2,30,33)])
  new_accum: (bits[1], bits[8], bits[23]) = invoke(accum, prod, to_apply=__float32__add, id=1233, pos=[(2,26,32)])
  invoke.1243: (bits[1], bits[8], bits[23]) = invoke(literal.1242, to_apply=__float32__zero, id=1243, pos=[(2,33,20)])
  literal.1244: bits[32] = literal(value=0, id=1244, pos=[(2,33,28)])
  tok__2: token = send(tok__1, a, predicate=literal.1220, channel=systolic__hor_chans__1_1, id=1234)
  should_output: bits[1] = eq(new_k, literal.1238, id=1239, pos=[(2,30,24)])
  tuple.1246: ((bits[1], bits[8], bits[23]), bits[32]) = tuple(new_accum, new_k, id=1246, pos=[(2,35,6)])
  tuple.1245: ((bits[1], bits[8], bits[23]), bits[32]) = tuple(invoke.1243, literal.1244, id=1245, pos=[(2,33,6)])
  tok__3: token = send(tok__2, b, predicate=literal.1220, channel=systolic__vert_chans__2_0, id=1235)
  and.1240: bits[1] = and(literal.1220, should_output, id=1240)
  new_state: ((bits[1], bits[8], bits[23]), bits[32]) = sel(should_output, cases=[tuple.1246, tuple.1245], id=1247, pos=[(2,32,20)])
  __token: token = literal(value=token, id=1218)
  tuple_index.1225: token = tuple_index(receive.1224, index=0, id=1225)
  tuple_index.1229: token = tuple_index(receive.1228, index=0, id=1229)
  tok__4: token = send(tok__3, new_accum, predicate=and.1240, channel=systolic__result_chans__1_0, id=1241)
  next_value.1248: () = next_value(param=__state, value=new_state, id=1248)
}

proc __systolic__SystolicArray__PE_3_next(__state: ((bits[1], bits[8], bits[23]), bits[32]), init={((0, 0, 0), 0)}) {
  after_all.1254: token = after_all(id=1254)
  literal.1251: bits[1] = literal(value=1, id=1251)
  receive.1255: (token, (bits[1], bits[8], bits[23])) = receive(after_all.1254, predicate=literal.1251, channel=systolic__hor_chans__1_1, id=1255)
  tok: token = tuple_index(receive.1255, index=0, id=1257, pos=[(2,23,9)])
  receive.1259: (token, (bits[1], bits[8], bits[23])) = receive(tok, predicate=literal.1251, channel=systolic__vert_chans__1_1, id=1259)
  __state: ((bits[1], bits[8], bits[23]), bits[32]) = state_read(state_element=__state, id=1250)
  a: (bits[1], bits[8], bits[23]) = tuple_index(receive.1255, index=1, id=1258, pos=[(2,23,14)])
  b: (bits[1], bits[8], bits[23]) = tuple_index(receive.1259, index=1, id=1262, pos=[(2,24,14)])
  k: bits[32] = tuple_index(__state, index=1, id=1253, pos=[(2,22,16)])
  literal.1267: bits[32] = literal(value=1, id=1267, pos=[(2,29,20)])
  accum: (bits[1], bits[8], bits[23]) = tuple_index(__state, index=0, id=1252, pos=[(2,22,9)])
  prod: (bits[1], bits[8], bits[23]) = invoke(a, b, to_apply=__float32__mul, id=1263, pos=[(2,25,27)])
  literal.1273: bits[1] = literal(value=0, id=1273, pos=[(2,33,21)])
  tok__1: token = tuple_index(receive.1259, index=0, id=1261, pos=[(2,24,9)])
  new_k: bits[32] = add(k, literal.1267, id=1268, pos=[(2,29,16)])
  literal.1269: bits[32] = literal(value=2, id=1269, pos=[(2,30,33)])
  new_accum: (bits[1], bits[8], bits[23]) = invoke(accum, prod, to_apply=__float32__add, id=1264, pos=[(2,26,32)])
  invoke.1274: (bits[1], bits[8], bits[23]) = invoke(literal.1273, to_apply=__float32__zero, id=1274, pos=[(2,33,20)])
  literal.1275: bits[32] = literal(value=0, id=1275, pos=[(2,33,28)])
  tok__2: token = send(tok__1, a, predicate=literal.1251, channel=systolic__hor_chans__1_2, id=1265)
  should_output: bits[1] = eq(new_k, literal.1269, id=1270, pos=[(2,30,24)])
  tuple.1277: ((bits[1], bits[8], bits[23]), bits[32]) = tuple(new_accum, new_k, id=1277, pos=[(2,35,6)])
  tuple.1276: ((bits[1], bits[8], bits[23]), bits[32]) = tuple(invoke.1274, literal.1275, id=1276, pos=[(2,33,6)])
  tok__3: token = send(tok__2, b, predicate=literal.1251, channel=systolic__vert_chans__2_1, id=1266)
  and.1271: bits[1] = and(literal.1251, should_output, id=1271)
  new_state: ((bits[1], bits[8], bits[23]), bits[32]) = sel(should_output, cases=[tuple.1277, tuple.1276], id=1278, pos=[(2,32,20)])
  __token: token = literal(value=token, id=1249)
  tuple_index.1256: token = tuple_index(receive.1255, index=0, id=1256)
  tuple_index.1260: token = tuple_index(receive.1259, index=0, id=1260)
  tok__4: token = send(tok__3, new_accum, predicate=and.1271, channel=systolic__result_chans__1_1, id=1272)
  next_value.1279: () = next_value(param=__state, value=new_state, id=1279)
}
