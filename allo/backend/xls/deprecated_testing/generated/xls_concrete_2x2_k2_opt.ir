package xls_concrete_2x2_k2

file_number 0 "/home/nvs26/allo-xls-backend/allo/backend/xls/tests/generated/xls_concrete_2x2_k2.x"

chan xls_concrete_2x2_k2__arg0(bits[32][2][2], id=0, kind=streaming, ops=receive_only, flow_control=ready_valid, strictness=proven_mutually_exclusive)
chan xls_concrete_2x2_k2__arg1(bits[32][2][2], id=1, kind=streaming, ops=receive_only, flow_control=ready_valid, strictness=proven_mutually_exclusive)
chan xls_concrete_2x2_k2__out0(bits[32][2][2], id=2, kind=streaming, ops=send_only, flow_control=ready_valid, strictness=proven_mutually_exclusive)
chan xls_concrete_2x2_k2__hor_chans__0_0(bits[32], id=3, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan xls_concrete_2x2_k2__hor_chans__1_0(bits[32], id=4, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan xls_concrete_2x2_k2__hor_chans__0_1(bits[32], id=5, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan xls_concrete_2x2_k2__hor_chans__1_1(bits[32], id=6, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan xls_concrete_2x2_k2__hor_chans__0_2(bits[32], id=7, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan xls_concrete_2x2_k2__hor_chans__1_2(bits[32], id=8, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan xls_concrete_2x2_k2__vert_chans__0_0(bits[32], id=9, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan xls_concrete_2x2_k2__vert_chans__1_0(bits[32], id=10, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan xls_concrete_2x2_k2__vert_chans__2_0(bits[32], id=11, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan xls_concrete_2x2_k2__vert_chans__0_1(bits[32], id=12, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan xls_concrete_2x2_k2__vert_chans__1_1(bits[32], id=13, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan xls_concrete_2x2_k2__vert_chans__2_1(bits[32], id=14, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan xls_concrete_2x2_k2__result_chans__0_0(bits[32], id=15, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan xls_concrete_2x2_k2__result_chans__1_0(bits[32], id=16, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan xls_concrete_2x2_k2__result_chans__0_1(bits[32], id=17, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)
chan xls_concrete_2x2_k2__result_chans__1_1(bits[32], id=18, kind=streaming, ops=send_receive, flow_control=ready_valid, strictness=proven_mutually_exclusive, fifo_depth=1, bypass=true, register_push_outputs=true, register_pop_outputs=false)

top proc __xls_concrete_2x2_k2__SystolicArray_0_next(__state_0_0_0: bits[32], __state_0_0_1: bits[32], __state_0_1_0: bits[32], __state_0_1_1: bits[32], __state_1_1_0: bits[32], __state_1_1_1: bits[32], __state_1_0_0: bits[32], __state_1_0_1: bits[32], __state_2: bits[2], init={0, 0, 0, 0, 0, 0, 0, 0, 0}) {
  __state_2: bits[2] = state_read(state_element=__state_2, id=807)
  bit_slice.920: bits[1] = bit_slice(__state_2, start=0, width=1, id=920, pos=[(0,66,36)])
  bit_slice.921: bits[1] = bit_slice(__state_2, start=1, width=1, id=921, pos=[(0,66,36)])
  literal.13: token = literal(value=token, id=13)
  nor.1043: bits[1] = nor(bit_slice.920, bit_slice.921, id=1043, pos=[(0,66,36)])
  receive.15: (token, bits[32][2][2]) = receive(literal.13, predicate=nor.1043, channel=xls_concrete_2x2_k2__arg0, id=15)
  receive.21: (token, bits[32][2][2]) = receive(literal.13, predicate=nor.1043, channel=xls_concrete_2x2_k2__arg1, id=21)
  a_tok: token = tuple_index(receive.15, index=0, id=17, pos=[(0,67,11)])
  b_tok: token = tuple_index(receive.21, index=0, id=23, pos=[(0,68,11)])
  a_recv: bits[32][2][2] = tuple_index(receive.15, index=1, id=18, pos=[(0,67,18)])
  literal.435: bits[1] = literal(value=0, id=435, pos=[(0,75,45)])
  b_recv: bits[32][2][2] = tuple_index(receive.21, index=1, id=24, pos=[(0,68,18)])
  tok: token = after_all(a_tok, b_tok, id=25)
  __state_0_0_1: bits[32] = state_read(state_element=__state_0_0_1, id=730)
  array_index.1086: bits[32] = array_index(a_recv, indices=[literal.435, literal.435], assumed_in_bounds=true, id=1086, pos=[(0,75,52)])
  __state_1_1_0: bits[32] = state_read(state_element=__state_1_1_0, id=736)
  array_index.1088: bits[32] = array_index(b_recv, indices=[literal.435, literal.435], assumed_in_bounds=true, id=1088, pos=[(0,86,54)])
  tok0: token = sel(nor.1043, cases=[literal.13, tok], id=374, pos=[(0,66,33)])
  sel.1035: bits[32] = sel(nor.1043, cases=[__state_0_0_1, array_index.1086], id=1035, pos=[(0,75,52)])
  not.1038: bits[1] = not(bit_slice.921, id=1038, pos=[(0,74,20)])
  literal.439: bits[1] = literal(value=1, id=439, pos=[(0,80,47)])
  sel.1029: bits[32] = sel(nor.1043, cases=[__state_1_1_0, array_index.1088], id=1029, pos=[(0,86,54)])
  send.39: token = send(tok0, sel.1035, predicate=not.1038, channel=xls_concrete_2x2_k2__hor_chans__0_0, id=39)
  __state_0_1_1: bits[32] = state_read(state_element=__state_0_1_1, id=734)
  array_index.1090: bits[32] = array_index(a_recv, indices=[literal.439, literal.435], assumed_in_bounds=true, id=1090, pos=[(0,80,54)])
  send.55: token = send(tok0, sel.1029, predicate=not.1038, channel=xls_concrete_2x2_k2__vert_chans__0_0, id=55)
  __state_1_1_1: bits[32] = state_read(state_element=__state_1_1_1, id=738)
  array_index.1092: bits[32] = array_index(b_recv, indices=[literal.435, literal.439], assumed_in_bounds=true, id=1092, pos=[(0,91,56)])
  tok_a0: token = sel(bit_slice.921, cases=[send.39, literal.13], id=1044, pos=[(0,74,17)])
  sel.1024: bits[32] = sel(nor.1043, cases=[__state_0_1_1, array_index.1090], id=1024, pos=[(0,80,54)])
  tok_b0: token = sel(bit_slice.921, cases=[send.55, literal.13], id=1045, pos=[(0,85,17)])
  sel.1018: bits[32] = sel(nor.1043, cases=[__state_1_1_1, array_index.1092], id=1018, pos=[(0,91,56)])
  send.47: token = send(tok_a0, sel.1024, predicate=not.1038, channel=xls_concrete_2x2_k2__hor_chans__1_0, id=47)
  send.63: token = send(tok_b0, sel.1018, predicate=not.1038, channel=xls_concrete_2x2_k2__vert_chans__0_1, id=63)
  tok1: token = sel(bit_slice.921, cases=[send.47, literal.13], id=1046, pos=[(0,79,17)])
  tok2: token = sel(bit_slice.921, cases=[send.63, literal.13], id=1047, pos=[(0,90,17)])
  literal.925: bits[2] = literal(value=2, id=925, pos=[(0,101,7)])
  tok3: token = after_all(tok1, tok2, id=97)
  eq.903: bits[1] = eq(__state_2, literal.925, id=903, pos=[(0,101,7)])
  receive.101: (token, bits[32]) = receive(tok3, predicate=eq.903, channel=xls_concrete_2x2_k2__result_chans__0_0, id=101)
  t00: token = tuple_index(receive.101, index=0, id=103, pos=[(0,102,11)])
  receive.106: (token, bits[32]) = receive(t00, predicate=eq.903, channel=xls_concrete_2x2_k2__result_chans__0_1, id=106)
  t01: token = tuple_index(receive.106, index=0, id=108, pos=[(0,103,11)])
  receive.111: (token, bits[32]) = receive(t01, predicate=eq.903, channel=xls_concrete_2x2_k2__result_chans__1_0, id=111)
  t10: token = tuple_index(receive.111, index=0, id=113, pos=[(0,104,11)])
  receive.116: (token, bits[32]) = receive(t10, predicate=eq.903, channel=xls_concrete_2x2_k2__result_chans__1_1, id=116)
  c00: bits[32] = tuple_index(receive.101, index=1, id=104, pos=[(0,102,16)])
  c01: bits[32] = tuple_index(receive.106, index=1, id=109, pos=[(0,103,16)])
  c10: bits[32] = tuple_index(receive.111, index=1, id=114, pos=[(0,104,16)])
  c11: bits[32] = tuple_index(receive.116, index=1, id=119, pos=[(0,105,16)])
  __state_0_0_0: bits[32] = state_read(state_element=__state_0_0_0, id=728)
  not.1050: bits[1] = not(eq.903, id=1050)
  array_index.981: bits[32] = array_index(a_recv, indices=[literal.435, literal.439], assumed_in_bounds=true, id=981)
  __state_0_1_0: bits[32] = state_read(state_element=__state_0_1_0, id=732)
  array_index.965: bits[32] = array_index(a_recv, indices=[literal.439, literal.439], assumed_in_bounds=true, id=965)
  array_index.957: bits[32] = array_index(b_recv, indices=[literal.439, literal.435], assumed_in_bounds=true, id=957)
  array_index.949: bits[32] = array_index(b_recv, indices=[literal.439, literal.439], assumed_in_bounds=true, id=949)
  __state_1_0_0: bits[32] = state_read(state_element=__state_1_0_0, id=740)
  __state_1_0_1: bits[32] = state_read(state_element=__state_1_0_1, id=742)
  array.120: bits[32][2] = array(c00, c01, id=120, pos=[(0,106,15)])
  array.121: bits[32][2] = array(c10, c11, id=121, pos=[(0,106,27)])
  sel.990: bits[32] = sel(nor.1043, cases=[__state_0_0_0, array_index.1086], id=990)
  sign_ext.1051: bits[32] = sign_ext(not.1050, new_bit_count=32, id=1051)
  sel.982: bits[32] = sel(nor.1043, cases=[__state_0_0_1, array_index.981], id=982)
  sel.974: bits[32] = sel(nor.1043, cases=[__state_0_1_0, array_index.1090], id=974)
  sel.966: bits[32] = sel(nor.1043, cases=[__state_0_1_1, array_index.965], id=966)
  sel.958: bits[32] = sel(nor.1043, cases=[__state_1_1_0, array_index.957], id=958)
  sel.950: bits[32] = sel(nor.1043, cases=[__state_1_1_1, array_index.949], id=950)
  sel.942: bits[32] = sel(nor.1043, cases=[__state_1_0_0, array_index.1088], id=942)
  sel.934: bits[32] = sel(nor.1043, cases=[__state_1_0_1, array_index.1092], id=934)
  literal.1080: bits[2] = literal(value=1, id=1080, pos=[(0,110,32)])
  t11: token = tuple_index(receive.116, index=0, id=118, pos=[(0,105,11)])
  c: bits[32][2][2] = array(array.120, array.121, id=122, pos=[(0,106,14)])
  and.1052: bits[32] = and(sel.990, sign_ext.1051, id=1052)
  and.1055: bits[32] = and(sel.982, sign_ext.1051, id=1055)
  and.1058: bits[32] = and(sel.974, sign_ext.1051, id=1058)
  and.1061: bits[32] = and(sel.966, sign_ext.1051, id=1061)
  and.1064: bits[32] = and(sel.958, sign_ext.1051, id=1064)
  and.1067: bits[32] = and(sel.950, sign_ext.1051, id=1067)
  and.1070: bits[32] = and(sel.942, sign_ext.1051, id=1070)
  and.1073: bits[32] = and(sel.934, sign_ext.1051, id=1073)
  unexpand_for_next_value_147_2__4_case_0: bits[2] = add(__state_2, literal.1080, id=1078, pos=[(0,110,23)])
  unexpand_for_next_value_147_2__4_case_1: bits[2] = literal(value=0, id=861)
  tok_send: token = send(t11, c, predicate=eq.903, channel=xls_concrete_2x2_k2__out0, id=124)
  receive.461: (token, bits[32], bits[1]) = receive(literal.13, channel=xls_concrete_2x2_k2__hor_chans__0_2, blocking=false, id=461)
  receive.462: (token, bits[32], bits[1]) = receive(literal.13, channel=xls_concrete_2x2_k2__hor_chans__1_2, blocking=false, id=462)
  receive.463: (token, bits[32], bits[1]) = receive(literal.13, channel=xls_concrete_2x2_k2__vert_chans__2_0, blocking=false, id=463)
  receive.464: (token, bits[32], bits[1]) = receive(literal.13, channel=xls_concrete_2x2_k2__vert_chans__2_1, blocking=false, id=464)
  next_value_147_0__1_0__1_0__2: () = next_value(param=__state_0_0_0, value=and.1052, id=729)
  next_value_147_0__1_0__1_1__2: () = next_value(param=__state_0_0_1, value=and.1055, id=731)
  next_value_147_0__1_1__2_0__1: () = next_value(param=__state_0_1_0, value=and.1058, id=733)
  next_value_147_0__1_1__2_1__1: () = next_value(param=__state_0_1_1, value=and.1061, id=735)
  next_value_147_1__2_1__1_0__1: () = next_value(param=__state_1_1_0, value=and.1064, id=737)
  next_value_147_1__2_1__1_1__1: () = next_value(param=__state_1_1_1, value=and.1067, id=739)
  next_value_147_1__2_0__2_0: () = next_value(param=__state_1_0_0, value=and.1070, id=741)
  next_value_147_1__2_0__2_1: () = next_value(param=__state_1_0_1, value=and.1073, id=743)
  next_value_147_2__4_case_0__1: () = next_value(param=__state_2, value=unexpand_for_next_value_147_2__4_case_0, predicate=not.1050, id=812)
  next_value_147_2__4_case_1__1: () = next_value(param=__state_2, value=unexpand_for_next_value_147_2__4_case_1, predicate=eq.903, id=813)
}

proc __xls_concrete_2x2_k2__SystolicArray__PE_0_next(__state_0: bits[32], __state_1: bits[1], init={0, 0}) {
  after_all.153: token = after_all(id=153)
  receive.465: (token, bits[32]) = receive(after_all.153, channel=xls_concrete_2x2_k2__hor_chans__0_0, id=465)
  tok: token = tuple_index(receive.465, index=0, id=156, pos=[(0,22,9)])
  receive.466: (token, bits[32]) = receive(tok, channel=xls_concrete_2x2_k2__vert_chans__0_0, id=466)
  tok__1: token = tuple_index(receive.466, index=0, id=160, pos=[(0,23,9)])
  a: bits[32] = tuple_index(receive.465, index=1, id=157, pos=[(0,22,14)])
  b: bits[32] = tuple_index(receive.466, index=1, id=161, pos=[(0,23,14)])
  tok__2: token = send(tok__1, a, channel=xls_concrete_2x2_k2__hor_chans__0_1, id=467)
  __state_0: bits[32] = state_read(state_element=__state_0, id=507)
  prod: bits[32] = umul(a, b, id=162, pos=[(0,24,15)])
  __state_1: bits[1] = state_read(state_element=__state_1, id=814)
  tok__3: token = send(tok__2, b, channel=xls_concrete_2x2_k2__vert_chans__1_0, id=468)
  new_accum: bits[32] = add(__state_0, prod, id=163, pos=[(0,25,20)])
  not.867: bits[1] = not(__state_1, id=867, pos=[(0,29,24)])
  literal.427: bits[32] = literal(value=0, id=427, pos=[(0,31,20)])
  unexpand_for_next_value_177_1_case_0: bits[1] = literal(value=1, id=880)
  unexpand_for_next_value_177_1_case_1: bits[1] = literal(value=0, id=862)
  tok__4: token = send(tok__3, new_accum, predicate=__state_1, channel=xls_concrete_2x2_k2__result_chans__0_0, id=171)
  next_value_177_0_case_0: () = next_value(param=__state_0, value=new_accum, predicate=not.867, id=753)
  next_value_177_0_case_1: () = next_value(param=__state_0, value=literal.427, predicate=__state_1, id=756)
  next_value_177_1_case_0__1: () = next_value(param=__state_1, value=unexpand_for_next_value_177_1_case_0, predicate=not.867, id=819)
  next_value_177_1_case_1__1: () = next_value(param=__state_1, value=unexpand_for_next_value_177_1_case_1, predicate=__state_1, id=820)
}

proc __xls_concrete_2x2_k2__SystolicArray__PE_1_next(__state_0: bits[32], __state_1: bits[1], init={0, 0}) {
  after_all.183: token = after_all(id=183)
  receive.469: (token, bits[32]) = receive(after_all.183, channel=xls_concrete_2x2_k2__hor_chans__0_1, id=469)
  tok: token = tuple_index(receive.469, index=0, id=186, pos=[(0,22,9)])
  receive.470: (token, bits[32]) = receive(tok, channel=xls_concrete_2x2_k2__vert_chans__0_1, id=470)
  tok__1: token = tuple_index(receive.470, index=0, id=190, pos=[(0,23,9)])
  a: bits[32] = tuple_index(receive.469, index=1, id=187, pos=[(0,22,14)])
  b: bits[32] = tuple_index(receive.470, index=1, id=191, pos=[(0,23,14)])
  tok__2: token = send(tok__1, a, channel=xls_concrete_2x2_k2__hor_chans__0_2, id=471)
  __state_0: bits[32] = state_read(state_element=__state_0, id=518)
  prod: bits[32] = umul(a, b, id=192, pos=[(0,24,15)])
  __state_1: bits[1] = state_read(state_element=__state_1, id=821)
  tok__3: token = send(tok__2, b, channel=xls_concrete_2x2_k2__vert_chans__1_1, id=472)
  new_accum: bits[32] = add(__state_0, prod, id=193, pos=[(0,25,20)])
  not.869: bits[1] = not(__state_1, id=869, pos=[(0,29,24)])
  literal.429: bits[32] = literal(value=0, id=429, pos=[(0,31,20)])
  unexpand_for_next_value_207_1_case_0: bits[1] = literal(value=1, id=882)
  unexpand_for_next_value_207_1_case_1: bits[1] = literal(value=0, id=863)
  tok__4: token = send(tok__3, new_accum, predicate=__state_1, channel=xls_concrete_2x2_k2__result_chans__0_1, id=201)
  next_value_207_0_case_0: () = next_value(param=__state_0, value=new_accum, predicate=not.869, id=767)
  next_value_207_0_case_1: () = next_value(param=__state_0, value=literal.429, predicate=__state_1, id=770)
  next_value_207_1_case_0__1: () = next_value(param=__state_1, value=unexpand_for_next_value_207_1_case_0, predicate=not.869, id=826)
  next_value_207_1_case_1__1: () = next_value(param=__state_1, value=unexpand_for_next_value_207_1_case_1, predicate=__state_1, id=827)
}

proc __xls_concrete_2x2_k2__SystolicArray__PE_2_next(__state_0: bits[32], __state_1: bits[1], init={0, 0}) {
  after_all.213: token = after_all(id=213)
  receive.473: (token, bits[32]) = receive(after_all.213, channel=xls_concrete_2x2_k2__hor_chans__1_0, id=473)
  tok: token = tuple_index(receive.473, index=0, id=216, pos=[(0,22,9)])
  receive.474: (token, bits[32]) = receive(tok, channel=xls_concrete_2x2_k2__vert_chans__1_0, id=474)
  tok__1: token = tuple_index(receive.474, index=0, id=220, pos=[(0,23,9)])
  a: bits[32] = tuple_index(receive.473, index=1, id=217, pos=[(0,22,14)])
  b: bits[32] = tuple_index(receive.474, index=1, id=221, pos=[(0,23,14)])
  tok__2: token = send(tok__1, a, channel=xls_concrete_2x2_k2__hor_chans__1_1, id=475)
  __state_0: bits[32] = state_read(state_element=__state_0, id=529)
  prod: bits[32] = umul(a, b, id=222, pos=[(0,24,15)])
  __state_1: bits[1] = state_read(state_element=__state_1, id=828)
  tok__3: token = send(tok__2, b, channel=xls_concrete_2x2_k2__vert_chans__2_0, id=476)
  new_accum: bits[32] = add(__state_0, prod, id=223, pos=[(0,25,20)])
  not.871: bits[1] = not(__state_1, id=871, pos=[(0,29,24)])
  literal.431: bits[32] = literal(value=0, id=431, pos=[(0,31,20)])
  unexpand_for_next_value_237_1_case_0: bits[1] = literal(value=1, id=884)
  unexpand_for_next_value_237_1_case_1: bits[1] = literal(value=0, id=864)
  tok__4: token = send(tok__3, new_accum, predicate=__state_1, channel=xls_concrete_2x2_k2__result_chans__1_0, id=231)
  next_value_237_0_case_0: () = next_value(param=__state_0, value=new_accum, predicate=not.871, id=781)
  next_value_237_0_case_1: () = next_value(param=__state_0, value=literal.431, predicate=__state_1, id=784)
  next_value_237_1_case_0__1: () = next_value(param=__state_1, value=unexpand_for_next_value_237_1_case_0, predicate=not.871, id=833)
  next_value_237_1_case_1__1: () = next_value(param=__state_1, value=unexpand_for_next_value_237_1_case_1, predicate=__state_1, id=834)
}

proc __xls_concrete_2x2_k2__SystolicArray__PE_3_next(__state_0: bits[32], __state_1: bits[1], init={0, 0}) {
  after_all.243: token = after_all(id=243)
  receive.477: (token, bits[32]) = receive(after_all.243, channel=xls_concrete_2x2_k2__hor_chans__1_1, id=477)
  tok: token = tuple_index(receive.477, index=0, id=246, pos=[(0,22,9)])
  receive.478: (token, bits[32]) = receive(tok, channel=xls_concrete_2x2_k2__vert_chans__1_1, id=478)
  tok__1: token = tuple_index(receive.478, index=0, id=250, pos=[(0,23,9)])
  a: bits[32] = tuple_index(receive.477, index=1, id=247, pos=[(0,22,14)])
  b: bits[32] = tuple_index(receive.478, index=1, id=251, pos=[(0,23,14)])
  tok__2: token = send(tok__1, a, channel=xls_concrete_2x2_k2__hor_chans__1_2, id=479)
  __state_0: bits[32] = state_read(state_element=__state_0, id=540)
  prod: bits[32] = umul(a, b, id=252, pos=[(0,24,15)])
  __state_1: bits[1] = state_read(state_element=__state_1, id=835)
  tok__3: token = send(tok__2, b, channel=xls_concrete_2x2_k2__vert_chans__2_1, id=480)
  new_accum: bits[32] = add(__state_0, prod, id=253, pos=[(0,25,20)])
  not.873: bits[1] = not(__state_1, id=873, pos=[(0,29,24)])
  literal.433: bits[32] = literal(value=0, id=433, pos=[(0,31,20)])
  unexpand_for_next_value_267_1_case_0: bits[1] = literal(value=1, id=886)
  unexpand_for_next_value_267_1_case_1: bits[1] = literal(value=0, id=865)
  tok__4: token = send(tok__3, new_accum, predicate=__state_1, channel=xls_concrete_2x2_k2__result_chans__1_1, id=261)
  next_value_267_0_case_0: () = next_value(param=__state_0, value=new_accum, predicate=not.873, id=795)
  next_value_267_0_case_1: () = next_value(param=__state_0, value=literal.433, predicate=__state_1, id=798)
  next_value_267_1_case_0__1: () = next_value(param=__state_1, value=unexpand_for_next_value_267_1_case_0, predicate=not.873, id=840)
  next_value_267_1_case_1__1: () = next_value(param=__state_1, value=unexpand_for_next_value_267_1_case_1, predicate=__state_1, id=841)
}
